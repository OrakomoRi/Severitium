class SeveritiumInjector{constructor(e,t){this.Severitium=e,this.season=t}updateSeveritium(e){this.Severitium=e}removeInjectedTheme(){const e=document.querySelectorAll('style[data-resource="SeveritiumTheme"]');for(const t of e)t.remove()}injectTheme(e=[]){const t=this.Severitium.active||"default",r=this.Severitium.theme.themes[t]||{},o=document.createElement("style");let n=":root {\n";for(const[e,t]of Object.entries(r||{}))n+=`\t--${e}: ${t};\n`;n+="}",o.textContent=n;for(const t of e)o.setAttribute(t.name,t.value);document.body.appendChild(o)}applyTheme(){if(!this.Severitium.theme)return;this.removeInjectedTheme();const e=[{name:"data-resource",value:"SeveritiumTheme"}];this.injectTheme(e)}removeInjectedCSS(){const e=document.querySelectorAll('style[data-resource="SeveritiumCSS"]');for(const t of e)t.remove()}injectCSS(e,t=[]){const r=document.createElement("style");r.textContent=this.Severitium.CSS[e];for(const e of t)r.setAttribute(e.name,e.value);document.body.appendChild(r)}applyCSS(e=null){if(!e)return;this.removeInjectedCSS();const t=[{name:"data-resource",value:"SeveritiumCSS"}],r=Array.isArray(e)?e:[{url:e}];for(const{url:e,attributes:o=[]}of r){const r=o.some(e=>"data-resource"===e.name)?o:[...t,...o];this.injectCSS(e,r)}}removeInjectedJS(){const e=document.querySelectorAll('script[data-resource="SeveritiumJS"]');for(const t of e)t.remove()}injectJS(e,t=[]){const r=document.createElement("script");r.textContent=this.Severitium.JS[e];for(const e of t)r.setAttribute(e.name,e.value);document.body.appendChild(r)}applyJS(e=null){if(!e)return;this.removeInjectedJS();const t=[{name:"data-resource",value:"SeveritiumJS"}],r=Array.isArray(e)?e:[{url:e}];for(const{url:e,attributes:o=[]}of r){const r=o.some(e=>"data-resource"===e.name)?o:[...t,...o];this.injectJS(e,r)}}removeInjectedImages(){const e=document.querySelectorAll('style[data-resource="SeveritiumImage"]');for(const t of e)t.remove()}injectImage(e,t,r=[]){const o=t.replace("SEVERITIUM_PLACEHOLDER",this.Severitium.images[e]),n=document.createElement("style");n.textContent=o;for(const e of r)n.setAttribute(e.name,e.value);document.body.appendChild(n)}applyImages(e=null){if(!e)return;this.removeInjectedImages();const t=[{name:"data-resource",value:"SeveritiumImage"}];for(const{url:r,style:o,attributes:n=[]}of e){const e=r.replace("SEASON_PLACEHOLDER",this.season),s=n.some(e=>"data-resource"===e.name)?n:[...t,...n];this.injectImage(e,o,s)}}}