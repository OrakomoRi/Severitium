if(void 0===window.BreeziumSelect){class e{constructor(e,t,n=null){this.container=document.createElement("div"),this.container.classList.add("breezium-select"),this.options=e,this.callback=t,this.defaultOption=n||e[0]||{name:"Select Option",value:""},this.selected=null,this.optionsContainer=null,this.init()}init(){this.selected=document.createElement("div"),this.selected.classList.add("breezium-selected"),this.selected.textContent=this.defaultOption.name,this.selected.dataset.value=this.defaultOption.value,this.optionsContainer=document.createElement("div"),this.optionsContainer.classList.add("breezium-options");for(const e of this.options){const t=document.createElement("div");t.classList.add("breezium-option"),t.textContent=e.name,t.dataset.value=e.value,t.addEventListener("click",()=>this.selectOption(e)),this.optionsContainer.appendChild(t)}this.selected.addEventListener("click",()=>this.toggleOptions()),document.addEventListener("click",e=>{this.container.contains(e.target)||this.container.classList.remove("show")})}selectOption(e){this.callback(e.value),this.selected.textContent=e.name,this.selected.dataset.value=e.value,this.container.classList.remove("show")}toggleOptions(){if(this.container.classList.toggle("show"),this.container.classList.contains("show")){const e=this.container.getBoundingClientRect(),t=window.innerHeight,n=t-e.bottom,i=parseFloat(getComputedStyle(document.documentElement).fontSize),o=(n-10)/i;let r=getComputedStyle(this.optionsContainer).getPropertyValue("--breezium-select-options-max-height").trim(),a=10;if(r)if(r.endsWith("rem"))a=parseFloat(r);else if(r.endsWith("em")){const e=parseFloat(getComputedStyle(this.optionsContainer).fontSize);a=parseFloat(r)*(e/i)}else if(r.endsWith("px"))a=parseFloat(r)/i;else if(r.endsWith("%")){a=t*(parseFloat(r)/100)/i}const s=Math.min(o,a);this.optionsContainer.style.maxHeight=`${s}rem`}}render(e,t=null,n=!1){this.container.appendChild(this.selected),this.container.appendChild(this.optionsContainer),t?n&&t.nextSibling?e.insertBefore(this.container,t.nextSibling):e.insertBefore(this.container,t):e.appendChild(this.container)}}window.BreeziumSelect=e}
/*!
* Copyright (c) 2021 Momo Bassit.
* Licensed under the MIT License (MIT)
* https://github.com/mdbassit/Coloris
*/void 0===window.Coloris&&function(e,t,n,i){var o,r,a,s,l,c,u,d,h,m,v,p,g,f,b,C,y=t.createElement("canvas").getContext("2d"),w={r:0,g:0,b:0,h:0,s:0,v:0,a:1},S={},L={el:"[data-coloris]",parent:"body",theme:"default",themeMode:"light",rtl:!1,wrap:!0,margin:2,format:"hex",formatToggle:!1,swatches:[],swatchesOnly:!1,alpha:!0,forceAlpha:!1,focusInput:!0,selectInput:!1,inline:!1,defaultColor:"#000000",clearButton:!1,clearLabel:"Clear",closeButton:!1,closeLabel:"Close",onChange:function(){return i},a11y:{open:"Open color picker",close:"Close color picker",clear:"Clear the selected color",marker:"Saturation: {s}. Brightness: {v}.",hueSlider:"Hue slider",alphaSlider:"Opacity slider",input:"Color value field",format:"Color format",swatch:"Color swatch",instruction:"Saturation and brightness selector. Use up, down, left and right arrow keys to select."}},E={},x="",k={},M=!1;function T(n){if("object"==typeof n)for(var s in n)switch(s){case"el":A(n.el),!1!==n.wrap&&$(n.el);break;case"parent":(o=n.parent instanceof HTMLElement?n.parent:t.querySelector(n.parent))&&(o.appendChild(r),L.parent=n.parent,o===t.body&&(o=i));break;case"themeMode":L.themeMode=n.themeMode,"auto"===n.themeMode&&e.matchMedia&&e.matchMedia("(prefers-color-scheme: dark)").matches&&(L.themeMode="dark");case"theme":n.theme&&(L.theme=n.theme),r.className="clr-picker clr-"+L.theme+" clr-"+L.themeMode,L.inline&&H();break;case"rtl":L.rtl=!!n.rtl,Array.from(t.getElementsByClassName("clr-field")).forEach(function(e){return e.classList.toggle("clr-rtl",L.rtl)});break;case"margin":n.margin*=1,L.margin=isNaN(n.margin)?L.margin:n.margin;break;case"wrap":n.el&&n.wrap&&$(n.el);break;case"formatToggle":L.formatToggle=!!n.formatToggle,K("clr-format").style.display=L.formatToggle?"block":"none",L.formatToggle&&(L.format="auto");break;case"swatches":Array.isArray(n.swatches)&&function(){var e=K("clr-swatches"),i=t.createElement("div");e.textContent="",n.swatches.forEach(function(e,n){var o=t.createElement("button");o.setAttribute("type","button"),o.setAttribute("id","clr-swatch-"+n),o.setAttribute("aria-labelledby","clr-swatch-label clr-swatch-"+n),o.style.color=e,o.textContent=e,i.appendChild(o)}),n.swatches.length&&e.appendChild(i),L.swatches=n.swatches.slice()}();break;case"swatchesOnly":L.swatchesOnly=!!n.swatchesOnly,r.setAttribute("data-minimal",L.swatchesOnly);break;case"alpha":L.alpha=!!n.alpha,r.setAttribute("data-alpha",L.alpha);break;case"inline":if(L.inline=!!n.inline,r.setAttribute("data-inline",L.inline),L.inline){var m=n.defaultColor||L.defaultColor;f=Z(m),H(),D(m)}break;case"clearButton":"object"==typeof n.clearButton&&(n.clearButton.label&&(L.clearLabel=n.clearButton.label,u.innerHTML=L.clearLabel),n.clearButton=n.clearButton.show),L.clearButton=!!n.clearButton,u.style.display=L.clearButton?"block":"none";break;case"clearLabel":L.clearLabel=n.clearLabel,u.innerHTML=L.clearLabel;break;case"closeButton":L.closeButton=!!n.closeButton,L.closeButton?r.insertBefore(d,l):l.appendChild(d);break;case"closeLabel":L.closeLabel=n.closeLabel,d.innerHTML=L.closeLabel;break;case"a11y":var p=n.a11y,g=!1;if("object"==typeof p)for(var b in p)p[b]&&L.a11y[b]&&(L.a11y[b]=p[b],g=!0);if(g){var C=K("clr-open-label"),y=K("clr-swatch-label");C.innerHTML=L.a11y.open,y.innerHTML=L.a11y.swatch,d.setAttribute("aria-label",L.a11y.close),u.setAttribute("aria-label",L.a11y.clear),h.setAttribute("aria-label",L.a11y.hueSlider),v.setAttribute("aria-label",L.a11y.alphaSlider),c.setAttribute("aria-label",L.a11y.input),a.setAttribute("aria-label",L.a11y.instruction)}break;default:L[s]=n[s]}}function V(e,t){"string"==typeof e&&"object"==typeof t&&(E[e]=t,M=!0)}function q(e){delete E[e],0===Object.keys(E).length&&(M=!1,e===x&&N())}function N(){Object.keys(k).length>0&&(T(k),x="",k={})}function A(e){e instanceof HTMLElement&&(e=[e]),Array.isArray(e)?e.forEach(function(e){J(e,"click",I),J(e,"input",O)}):(J(t,"click",e,I),J(t,"input",e,O))}function I(e){L.inline||(!function(e){if(M){var t=["el","wrap","rtl","inline","defaultColor","a11y"],n=function(n){var i=E[n];if(e.matches(n)){for(var o in x=n,k={},t.forEach(function(e){return delete i[e]}),i)k[o]=Array.isArray(L[o])?L[o].slice():L[o];return T(i),"break"}};for(var i in E)if("break"===n(i))break}}(e.target),g=e.target,b=g.value,f=Z(b),r.classList.add("clr-open"),H(),D(b),(L.focusInput||L.selectInput)&&(c.focus({preventScroll:!0}),c.setSelectionRange(g.selectionStart,g.selectionEnd)),L.selectInput&&c.select(),(C||L.swatchesOnly)&&X().shift().focus(),g.dispatchEvent(new Event("open",{bubbles:!1})))}function H(){var n,i,s,l=o,c=e.scrollY,u=r.offsetWidth,d=r.offsetHeight,h={left:!1,top:!1},m={x:0,y:0};if(l&&(n=e.getComputedStyle(l),i=parseFloat(n.marginTop),s=parseFloat(n.borderTopWidth),(m=l.getBoundingClientRect()).y+=s+c),!L.inline){var v=g.getBoundingClientRect(),p=v.x,f=c+v.y+v.height+L.margin;l?(p-=m.x,f-=m.y,p+u>l.clientWidth&&(p+=v.width-u,h.left=!0),f+d>l.clientHeight-i&&d+L.margin<=v.top-(m.y-c)&&(f-=v.height+d+2*L.margin,h.top=!0),f+=l.scrollTop):(p+u>t.documentElement.clientWidth&&(p+=v.width-u,h.left=!0),f+d-c>t.documentElement.clientHeight&&d+L.margin<=v.top&&(f=c+v.y-d-L.margin,h.top=!0)),r.classList.toggle("clr-left",h.left),r.classList.toggle("clr-top",h.top),r.style.left=p+"px",r.style.top=f+"px",m.x+=r.offsetLeft,m.y+=r.offsetTop}S={width:a.offsetWidth,height:a.offsetHeight,x:a.offsetLeft+m.x,y:a.offsetTop+m.y}}function $(e){e instanceof HTMLElement?B(e):Array.isArray(e)?e.forEach(B):t.querySelectorAll(e).forEach(B)}function B(e){var n=e.parentNode;if(!n.classList.contains("clr-field")){var i=t.createElement("div"),o="clr-field";(L.rtl||e.classList.contains("clr-rtl"))&&(o+=" clr-rtl"),i.innerHTML='<button type="button" aria-labelledby="clr-open-label"></button>',n.insertBefore(i,e),i.className=o,i.style.color=e.value,i.appendChild(e)}}function O(e){var t=e.target.parentNode;t.classList.contains("clr-field")&&(t.style.color=e.target.value)}function F(e){if(g&&!L.inline){var t=g;e&&(g=i,b!==t.value&&(t.value=b,t.dispatchEvent(new Event("input",{bubbles:!0})))),setTimeout(function(){b!==t.value&&t.dispatchEvent(new Event("change",{bubbles:!0}))}),r.classList.remove("clr-open"),M&&N(),t.dispatchEvent(new Event("close",{bubbles:!1})),L.focusInput&&t.focus({preventScroll:!0}),g=i}}function D(e){var t=function(e){var t,n,i=/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i;y.fillStyle="#000",y.fillStyle=e,n=(t=i.exec(y.fillStyle))?{r:1*t[3],g:1*t[4],b:1*t[5],a:1*t[6]}:{r:(t=y.fillStyle.replace("#","").match(/.{2}/g).map(function(e){return parseInt(e,16)}))[0],g:t[1],b:t[2],a:1};return n}(e),i=function(e){var t=e.r/255,i=e.g/255,o=e.b/255,r=n.max(t,i,o),a=n.min(t,i,o),s=r-a,l=r,c=0,u=0;s&&(r===t&&(c=(i-o)/s),r===i&&(c=2+(o-t)/s),r===o&&(c=4+(t-i)/s),r&&(u=s/r));return{h:(c=n.floor(60*c))<0?c+360:c,s:n.round(100*u),v:n.round(100*l),a:e.a}}(t);P(i.s,i.v),W(t,i),h.value=i.h,r.style.color="hsl("+i.h+", 100%, 50%)",m.style.left=i.h/360*100+"%",s.style.left=S.width*i.s/100+"px",s.style.top=S.height-S.height*i.v/100+"px",v.value=100*i.a,p.style.left=100*i.a+"%"}function Z(e){var t=e.substring(0,3).toLowerCase();return"rgb"===t||"hsl"===t?t:"hex"}function _(n){n=n!==i?n:c.value,g&&(g.value=n,g.dispatchEvent(new Event("input",{bubbles:!0}))),L.onChange&&L.onChange.call(e,n,g),t.dispatchEvent(new CustomEvent("coloris:pick",{detail:{color:n,currentEl:g}}))}function R(e,t){var i={h:1*h.value,s:e/S.width*100,v:100-t/S.height*100,a:v.value/100},o=function(e){var t=e.s/100,i=e.v/100,o=t*i,r=e.h/60,a=o*(1-n.abs(r%2-1)),s=i-o;o+=s,a+=s;var l=n.floor(r)%6,c=[o,a,s,s,a,o][l],u=[a,o,o,a,s,s][l],d=[s,s,a,o,o,a][l];return{r:n.round(255*c),g:n.round(255*u),b:n.round(255*d),a:e.a}}(i);P(i.s,i.v),W(o,i),_()}function P(e,t){var n=L.a11y.marker;e=1*e.toFixed(1),t=1*t.toFixed(1),n=(n=n.replace("{s}",e)).replace("{v}",t),s.setAttribute("aria-label",n)}function U(e){var t=function(e){return{pageX:e.changedTouches?e.changedTouches[0].pageX:e.pageX,pageY:e.changedTouches?e.changedTouches[0].pageY:e.pageY}}(e),n=t.pageX-S.x,i=t.pageY-S.y;o&&(i+=o.scrollTop),z(n,i),e.preventDefault(),e.stopPropagation()}function j(e,t){z(1*s.style.left.replace("px","")+e,1*s.style.top.replace("px","")+t)}function z(e,t){e=e<0?0:e>S.width?S.width:e,t=t<0?0:t>S.height?S.height:t,s.style.left=e+"px",s.style.top=t+"px",R(e,t),s.focus()}function W(e,i){void 0===e&&(e={}),void 0===i&&(i={});var o=L.format;for(var r in e)w[r]=e[r];for(var u in i)w[u]=i[u];var d,h=function(e){var t=e.r.toString(16),n=e.g.toString(16),i=e.b.toString(16),o="";e.r<16&&(t="0"+t);e.g<16&&(n="0"+n);e.b<16&&(i="0"+i);if(L.alpha&&(e.a<1||L.forceAlpha)){var r=255*e.a|0;o=r.toString(16),r<16&&(o="0"+o)}return"#"+t+n+i+o}(w),m=h.substring(0,7);switch(s.style.color=m,p.parentNode.style.color=m,p.style.color=h,l.style.color=h,a.style.display="none",a.offsetHeight,a.style.display="",p.nextElementSibling.style.display="none",p.nextElementSibling.offsetHeight,p.nextElementSibling.style.display="","mixed"===o?o=1===w.a?"hex":"rgb":"auto"===o&&(o=f),o){case"hex":c.value=h;break;case"rgb":c.value=function(e){return!L.alpha||1===e.a&&!L.forceAlpha?"rgb("+e.r+", "+e.g+", "+e.b+")":"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"}(w);break;case"hsl":c.value=(d=function(e){var t,i=e.v/100,o=i*(1-e.s/100/2);return o>0&&o<1&&(t=n.round((i-o)/n.min(o,1-o)*100)),{h:e.h,s:t||0,l:n.round(100*o),a:e.a}}(w),!L.alpha||1===d.a&&!L.forceAlpha?"hsl("+d.h+", "+d.s+"%, "+d.l+"%)":"hsla("+d.h+", "+d.s+"%, "+d.l+"%, "+d.a+")")}t.querySelector('.clr-format [value="'+o+'"]').checked=!0}function Y(){var e=1*h.value,t=1*s.style.left.replace("px",""),n=1*s.style.top.replace("px","");r.style.color="hsl("+e+", 100%, 50%)",m.style.left=e/360*100+"%",R(t,n)}function G(){var e=v.value/100;p.style.left=100*e+"%",W({a:e}),_()}function X(){return Array.from(r.querySelectorAll("input, button")).filter(function(e){return!!e.offsetWidth})}function K(e){return t.getElementById(e)}function J(e,t,n,i){var o=Element.prototype.matches||Element.prototype.msMatchesSelector;"string"==typeof n?e.addEventListener(t,function(e){o.call(e.target,n)&&i.call(e.target,e)}):(i=n,e.addEventListener(t,i))}function Q(e,n){n=n!==i?n:[],"loading"!==t.readyState?e.apply(void 0,n):t.addEventListener("DOMContentLoaded",function(){e.apply(void 0,n)})}NodeList!==i&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),e.Coloris=function(){var e={set:T,wrap:$,close:F,setInstance:V,removeInstance:q,updatePosition:H,ready:Q};function t(e){Q(function(){e&&("string"==typeof e?A(e):T(e))})}var n=function(n){t[n]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];Q(e[n],i)}};for(var i in e)n(i);return t}(),Q(function(){o=i,(r=t.createElement("div")).setAttribute("id","clr-picker"),r.className="clr-picker",r.innerHTML='<input id="clr-color-value" name="clr-color-value" class="clr-color" type="text" value="" spellcheck="false" aria-label="'+L.a11y.input+'"><div id="clr-color-area" class="clr-gradient" role="application" aria-label="'+L.a11y.instruction+'"><div id="clr-color-marker" class="clr-marker" tabindex="0"></div></div><div class="clr-hue"><input id="clr-hue-slider" name="clr-hue-slider" type="range" min="0" max="360" step="1" aria-label="'+L.a11y.hueSlider+'"><div id="clr-hue-marker"></div></div><div class="clr-alpha"><input id="clr-alpha-slider" name="clr-alpha-slider" type="range" min="0" max="100" step="1" aria-label="'+L.a11y.alphaSlider+'"><div id="clr-alpha-marker"></div><span></span></div><div id="clr-format" class="clr-format"><fieldset class="clr-segmented"><legend>'+L.a11y.format+'</legend><input id="clr-f1" type="radio" name="clr-format" value="hex"><label for="clr-f1">Hex</label><input id="clr-f2" type="radio" name="clr-format" value="rgb"><label for="clr-f2">RGB</label><input id="clr-f3" type="radio" name="clr-format" value="hsl"><label for="clr-f3">HSL</label><span></span></fieldset></div><div id="clr-swatches" class="clr-swatches"></div><button type="button" id="clr-clear" class="clr-clear" aria-label="'+L.a11y.clear+'">'+L.clearLabel+'</button><div id="clr-color-preview" class="clr-preview"><button type="button" id="clr-close" class="clr-close" aria-label="'+L.a11y.close+'">'+L.closeLabel+'</button></div><span id="clr-open-label" hidden>'+L.a11y.open+'</span><span id="clr-swatch-label" hidden>'+L.a11y.swatch+"</span>",t.body.appendChild(r),a=K("clr-color-area"),s=K("clr-color-marker"),u=K("clr-clear"),d=K("clr-close"),l=K("clr-color-preview"),c=K("clr-color-value"),h=K("clr-hue-slider"),m=K("clr-hue-marker"),v=K("clr-alpha-slider"),p=K("clr-alpha-marker"),A(L.el),$(L.el),J(r,"mousedown",function(e){r.classList.remove("clr-keyboard-nav"),e.stopPropagation()}),J(a,"mousedown",function(e){J(t,"mousemove",U)}),J(a,"contextmenu",function(e){e.preventDefault()}),J(a,"touchstart",function(e){t.addEventListener("touchmove",U,{passive:!1})}),J(s,"mousedown",function(e){J(t,"mousemove",U)}),J(s,"touchstart",function(e){t.addEventListener("touchmove",U,{passive:!1})}),J(c,"change",function(e){var t=c.value;(g||L.inline)&&_(""===t?t:D(t))}),J(u,"click",function(e){_(""),F()}),J(d,"click",function(e){_(),F()}),J(K("clr-format"),"click",".clr-format input",function(e){f=e.target.value,W(),_()}),J(r,"click",".clr-swatches button",function(e){D(e.target.textContent),_(),L.swatchesOnly&&F()}),J(t,"mouseup",function(e){t.removeEventListener("mousemove",U)}),J(t,"touchend",function(e){t.removeEventListener("touchmove",U)}),J(t,"mousedown",function(e){C=!1,r.classList.remove("clr-keyboard-nav"),F()}),J(t,"keydown",function(e){var t=e.key,n=e.target,i=e.shiftKey;if("Escape"!==t)if("Enter"!==t||"BUTTON"===n.tagName){if(["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t)&&(C=!0,r.classList.add("clr-keyboard-nav")),"Tab"===t&&n.matches(".clr-picker *")){var o=X(),a=o.shift(),s=o.pop();i&&n===a?(s.focus(),e.preventDefault()):i||n!==s||(a.focus(),e.preventDefault())}}else F();else F(!0)}),J(t,"click",".clr-field button",function(e){M&&N(),e.target.nextElementSibling.dispatchEvent(new Event("click",{bubbles:!0}))}),J(s,"keydown",function(e){var t={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]};Object.keys(t).includes(e.key)&&(j.apply(void 0,t[e.key]),e.preventDefault())}),J(a,"click",U),J(h,"input",Y),J(v,"input",G)})}(window,document,Math),function(){const e=new Map([["railgun_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.9091 10.9548L12.4783 9.73937L10.7234 11.7449L9 6.00024L22.5528 12.7766C23.2177 13.1091 24 12.6256 24 11.8822V2.00024C23.9664 0.889975 23.0548 0.000244141 21.9364 0.000244141C21.3413 0.000244141 20.7752 0.257123 20.3834 0.704956L15.2174 6.60894L8.05481 3.02765C7.27327 2.63688 6.40168 3.36596 6.64824 4.20424L9.33333 13.3336L5.28431 17.961L1.17889 17.2146C0.565046 17.103 0 17.5746 0 18.1985V24.0002L5.30233 19.3607L11.8677 20.6738C12.6075 20.8218 13.2385 20.1285 13.0217 19.4059L11.8163 15.388L10.2771 16.5424L11 19.0002L6.62366 18.2045L14.9091 10.9548ZM4.24468 19.1492L0 24.0002L1 18.5002L4.24468 19.1492ZM18.1818 8.09115L22 10.0002V4.75024L18.1818 8.09115Z" fill="white"/></svg>',color:"rgb(255, 163, 0)"}],["thunder_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 7.50024L0 9.00024L12 3.00024L3 0.000244141H18C21.3137 0.000244141 24 2.68654 24 6.00024V21.0002L21 12.0002L15 24.0002L16.5 12.0002L0 24.0002L12 7.50024Z" fill="white"/></svg>',color:"rgb(255, 133, 0)"}],["rocket_launcher_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24 0H23.4853C21.894 0 20.3679 0.632141 19.2426 1.75736L13.5 7.5H8.74264C7.94699 7.5 7.18393 7.81607 6.62132 8.37868L4.5 10.5L10.5 16.5L22.2426 4.75736C23.3679 3.63214 24 2.10602 24 0.514719V0Z" fill="white"/><path d="M13.5 19.5L12 18L16.5 13.5V15.2574C16.5 16.053 16.1839 16.8161 15.6213 17.3787L13.5 19.5Z" fill="white"/><path d="M6 21L0 24L3 18L0 15L7.5 16.5L9 24L6 21Z" fill="white"/></svg>',color:"rgb(161, 151, 253)"}],["ricochet_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 15.9976L5 10.9983L7.41267 21.6609C8.00091 24.2605 11.4346 24.8591 12.8681 22.6119L23.2802 6.28891C23.3452 6.19594 23.4064 6.10008 23.4635 6.00156L23.4651 5.99904C23.8054 5.41081 24 4.72783 24 3.99944C24 1.79061 22.2091 0 20 0C18.3309 0 16.9005 1.02221 16.301 2.47467L10 14.9978L8.25263 8.00928C7.80952 6.23709 5.41757 5.93784 4.5514 7.54622L0 15.9976Z" fill="white"/></svg>',color:"rgb(255, 227, 120)"}],["scorpio_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.225 20.2585L0 24.0002L10.5 18.0002L8.26255 12.4066C7.80286 11.2573 8.09616 9.94377 9.00103 9.09923L17.6649 1.01295C18.3622 0.362139 19.2849 0.000183105 20.2388 0.000183105C22.3098 0.000183105 24 1.67912 24 3.75018C24 5.1351 23.2367 6.40728 22.0147 7.05901L12.75 12.0002L13.2614 17.114C13.4009 18.5093 12.5553 19.8151 11.225 20.2585Z" fill="white"/><path d="M9.08275 4.10374L3.75 9.75019L6.79541 15.2319C7.18829 15.9391 6.94961 16.8304 6.25592 17.2466L0 21.0002L4.5 16.5002L1.06623 11.3495C0.416386 10.3748 0.393413 9.11089 1.00741 8.11314L5.29814 1.14071C5.73431 0.431936 6.50695 0.000183105 7.33918 0.000183105C8.33817 0.000183105 9.23701 0.632223 9.58778 1.56761C9.91397 2.43743 9.7206 3.42837 9.08275 4.10374Z" fill="white"/><path d="M18.75 17.2502L22.9043 15.4698C23.569 15.1849 24 14.5229 24 13.7997C24 12.8128 23.2 12.0002 22.213 12.0002C21.9094 12.0002 21.6107 12.0776 21.3452 12.2251L17.3673 14.435C16.0225 15.1821 15.4608 16.8253 16.0667 18.2393L17.25 21.0002L9 24.0002L18.529 22.7297C19.4361 22.6087 20.0244 21.7107 19.773 20.8307L18.75 17.2502Z" fill="white"/></svg>',color:"rgb(255, 61, 61)"}],["smoky_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.5 4.5L13.7574 4.24264C16.4739 1.52612 20.1583 0 24 0C24 3.84174 22.4739 7.52612 19.7574 10.2426L19.5 10.5L13.5 4.5Z" fill="white"/><path d="M0 16.5L7.5 24L8.08394 23.4161C8.34073 23.1593 8.43812 22.7834 8.33835 22.4342L7.83333 20.6667L9 19.5L10.1464 20.6464C10.3417 20.8417 10.6583 20.8417 10.8536 20.6464L16.9393 14.5607C17.6185 13.8815 18 12.9604 18 12L12 6C11.0396 6 10.1185 6.38153 9.43934 7.06066L3.35355 13.1464C3.15829 13.3417 3.15829 13.6583 3.35355 13.8536L4.5 15L3.33333 16.1667L1.56576 15.6616C1.21657 15.5619 0.840734 15.6593 0.583936 15.9161L0 16.5Z" fill="white"/></svg>',color:"rgb(255, 240, 0)"}],["firebird_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 5.99969L10.5 -0.000305176H9C6.51472 -0.000305176 4.5 2.01441 4.5 4.49969V5.99969Z" fill="white"/><path d="M4.50001 8.99994L7.50001 11.9999C7.50001 9.11864 8.6446 6.35535 10.682 4.31796L15 -6.10352e-05V4.49994L20.6628 10.1627C21.8577 11.3576 22.6493 12.896 22.9272 14.5628C23.5535 18.3211 21.4785 22.0085 17.9409 23.4236L16.5 23.9999V21.4705C16.5 18.2879 15.2357 15.2357 12.9853 12.9852L12 11.9999V16.4999L10.1718 17.7187C8.50261 18.8315 7.50001 20.7049 7.50001 22.711V23.9999L6.05915 23.4236C2.52152 22.0085 0.446472 18.3211 1.07286 14.5628C1.35066 12.896 2.14235 11.3576 3.33725 10.1627L4.50001 8.99994Z" fill="white"/></svg>',color:"rgb(255, 51, 0)"}],["freeze_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.744 0.84381L12.0002 3.75013L10.2564 0.84381C9.97555 0.375659 9.3711 0.21932 8.89845 0.492571L8.222 0.883644C7.74152 1.16142 7.57915 1.77733 7.86026 2.25587L10.5003 6.75018V9.40208L8.20366 8.07612L5.63152 3.54268C5.35764 3.05997 4.74306 2.89262 4.26226 3.16984L3.58536 3.56013C3.11239 3.83283 2.94556 4.43447 3.21054 4.91181L4.85559 7.87514L1.46681 7.93215C0.920935 7.94133 0.483314 8.38664 0.483632 8.93259L0.484085 9.71395C0.484408 10.2689 0.936622 10.7175 1.4916 10.7133L6.7036 10.6742L9.00027 12.0001L6.7034 13.3262L1.49137 13.2871C0.93639 13.2829 0.484175 13.7315 0.483853 14.2865L0.483399 15.0678C0.483081 15.6138 0.920702 16.0591 1.46658 16.0683L4.85536 16.1253L3.21031 19.0886C2.94533 19.5659 3.11216 20.1676 3.58513 20.4403L4.26203 20.8306C4.74283 21.1078 5.35741 20.9404 5.63129 20.4577L8.20342 15.9243L10.5003 14.5982V17.2504L7.86026 21.7447C7.57915 22.2232 7.74152 22.8391 8.222 23.1169L8.89845 23.508C9.3711 23.7812 9.97555 23.6249 10.2564 23.1567L12.0002 20.2504L13.744 23.1567C14.0249 23.6249 14.6294 23.7812 15.102 23.508L15.7785 23.1169C16.259 22.8391 16.4213 22.2232 16.1402 21.7447L13.5003 17.2506V14.5982L15.7974 15.9245L18.3694 20.4577C18.6433 20.9404 19.2579 21.1078 19.7387 20.8306L20.4156 20.4403C20.8886 20.1676 21.0554 19.5659 20.7904 19.0886L19.1454 16.1253L22.5342 16.0682C23.08 16.0591 23.5176 15.6138 23.5173 15.0678L23.5169 14.2864C23.5166 13.7315 23.0643 13.2829 22.5094 13.2871L17.2971 13.3262L15.0003 12.0001L17.2969 10.6742L22.5091 10.7134C23.0641 10.7175 23.5163 10.269 23.5166 9.71396L23.5171 8.9326C23.5174 8.38665 23.0798 7.94135 22.5339 7.93216L19.1451 7.87515L20.7902 4.91182C21.0552 4.43448 20.8883 3.83284 20.4154 3.56014L19.7385 3.16985C19.2577 2.89263 18.6431 3.05998 18.3692 3.54269L15.7972 8.07596L13.5003 9.40206V6.75001L16.1402 2.25587C16.4213 1.77733 16.259 1.16142 15.7785 0.883644L15.102 0.492571C14.6294 0.21932 14.0249 0.375659 13.744 0.84381Z" fill="white"/></svg>',color:"rgb(0, 151, 255)"}],["twins_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M23.5021 8.01802L21.0656 13.5002L19.5656 6.00024L18.0656 18.0002L13.1916 8.25223C11.296 4.46097 14.0528 0.000244141 18.2916 0.000244141C22.4179 0.000244141 25.178 4.24737 23.5021 8.01802Z" fill="white"/><path d="M11.5021 14.018L9.06559 19.5002L7.56559 12.0002L6.06559 24.0002L1.19158 14.2522C-0.704044 10.461 2.05284 6.00024 6.29159 6.00024C10.4179 6.00024 13.178 10.2474 11.5021 14.018Z" fill="white"/></svg>',color:"rgb(0, 255, 0)"}],["hammer_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 24L21.2784 10.701C22.9715 9.64283 24 7.78712 24 5.79058C24 2.59253 21.4075 0 18.2094 0H18.0815C16.1502 0 14.3404 0.942292 13.2329 2.52446L4.5 15L18 6L0 24Z" fill="white"/><path d="M2.67035 4.31859L0 15L5.83536 5.66342C6.56002 4.50396 5.72646 3 4.35917 3C3.56038 3 2.86409 3.54365 2.67035 4.31859Z" fill="white"/><path d="M6 24L20.4776 16.7612C22.0959 15.952 24 17.1288 24 18.9382C24 20.128 23.1398 21.1434 21.9662 21.339L6 24Z" fill="white"/></svg>',color:"rgb(200, 200, 200)"}],["tesla_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.9999 12L20.9999 12.0002L6.61214 21.5919C8.2045 22.4882 10.0425 22.9995 12 22.9995C18.0751 22.9995 23 18.0746 23 11.9995C23 8.664 21.5154 5.67524 19.171 3.65795L14.9999 12Z" fill="white"/><path d="M17.3886 2.40755L2.99993 12L8.99993 12L4.82929 20.3413C2.48469 18.324 1 15.3351 1 11.9995C1 5.92438 5.92487 0.999512 12 0.999512C13.9578 0.999512 15.7961 1.51096 17.3886 2.40755Z" fill="white"/></svg>',color:"rgb(0, 215, 255)"}],["isis_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 0C7.94772 0 7.5 0.447716 7.5 1V7.5L1 7.5C0.447715 7.5 0 7.94771 0 8.5V15.5C0 16.0523 0.447715 16.5 1 16.5H7.5V23C7.5 23.5523 7.94772 24 8.5 24H9L12 13L8.5 13.5L12 0H8.5Z" fill="white"/><path d="M15.5 24C16.0523 24 16.5 23.5523 16.5 23V16.5H23C23.5523 16.5 24 16.0523 24 15.5V8.5C24 7.94771 23.5523 7.5 23 7.5L16.5 7.5V1C16.5 0.447715 16.0523 0 15.5 0H15L12 11L15.5 10.5L12 24H15.5Z" fill="white"/></svg>',color:"rgb(0, 187, 67)"}],["gauss_resistance",{icon:'<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M22.6994 22.102C24.5334 20.268 24.4119 16.9136 22.7224 13.3196L21.7014 13.5748C22.8496 16.0851 22.9806 18.2905 21.8187 19.4524C19.9902 21.2809 15.577 19.9074 11.4589 16.406L22.4 8.20018C23.4072 7.44477 24 6.25921 24 5.00018C24 2.79104 22.2091 1.00018 20 1.00018C18.741 1.00018 17.5554 1.59296 16.8 2.60018L15.3621 4.51732C10.5318 0.89626 5.35464 -0.151242 2.90044 2.30296C-0.0282748 5.23168 2.02969 12.038 7.49703 17.5054C12.9644 22.9727 19.7707 25.0307 22.6994 22.102ZM14.7631 5.31612C11 2.50647 7.21405 1.53012 5.55526 3.18891C3.72796 5.01621 5.0984 9.42479 8.59468 13.5406L14.7631 5.31612Z" fill="white"/><path d="M0 25.0002L6 20.5002V17.0002L0 25.0002Z" fill="white"/></svg>',color:"rgb(1, 255, 162)"}],["shaft_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.5 0.0928406C13.0086 0.031565 12.508 0 12 0C6.40848 0 1.71018 3.82432 0.378052 9H2.80494C3.22876 9 3.60156 8.73038 3.77393 8.3432C4.98029 5.63353 7.48619 3.63006 10.5 3.12444V7.67157C10.5 8.20201 10.7107 8.71071 11.0858 9.08579L12 10L12.9142 9.08579C13.2893 8.71071 13.5 8.20201 13.5 7.67157V0.0928406Z" fill="white"/><path d="M15.6568 3.77393C18.3665 4.98029 20.3699 7.48619 20.8756 10.5H16.3284C15.798 10.5 15.2893 10.7107 14.9142 11.0858L14 12L14.9142 12.9142C15.2893 13.2893 15.798 13.5 16.3284 13.5H23.9072C23.9684 13.0086 24 12.508 24 12C24 6.40848 20.1757 1.71018 15 0.378052V2.80494C15 3.22876 15.2696 3.60156 15.6568 3.77393Z" fill="white"/><path d="M20.2261 15.6568C20.3984 15.2696 20.7712 15 21.1951 15H23.6219C22.2898 20.1757 17.5915 24 12 24C11.492 24 10.9914 23.9684 10.5 23.9072V16.3284C10.5 15.798 10.7107 15.2893 11.0858 14.9142L12 14L12.9142 14.9142C13.2893 15.2893 13.5 15.798 13.5 16.3284V20.8756C16.5138 20.3699 19.0197 18.3665 20.2261 15.6568Z" fill="white"/><path d="M0.0928406 10.5H7.67157C8.20201 10.5 8.71071 10.7107 9.08579 11.0858L10 12L9.08579 12.9142C8.71071 13.2893 8.20201 13.5 7.67157 13.5H3.12444C3.63006 16.5138 5.63353 19.0197 8.3432 20.2261C8.73038 20.3984 9 20.7712 9 21.1951V23.6219C3.82432 22.2898 0 17.5915 0 12C0 11.492 0.031565 10.9914 0.0928406 10.5Z" fill="white"/></svg>',color:"rgb(255, 59, 58)"}],["artillery_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 6L6 16.5L0 19.5H24L18 16.5L24 6L16.5 9V0L12 6L7.5 0V9L0 6Z" fill="white"/><path d="M3 24C8.37265 20.1198 15.6273 20.1198 21 24H3Z" fill="white"/></svg>',color:"rgb(255, 90, 0)"}],["vulcan_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.25 0.876694C13.2389 -0.284419 10.7611 -0.284419 8.75003 0.876694L3.9917 3.62392C1.98059 4.78503 0.741699 6.93086 0.741699 9.25308V14.7475C0.741699 17.0698 1.98059 19.2156 3.9917 20.3767L8.75003 23.1239C10.7611 24.285 13.2389 24.285 15.25 23.1239L20.0084 20.3767C22.0195 19.2156 23.2584 17.0698 23.2584 14.7475V9.25308C23.2584 6.93086 22.0195 4.78503 20.0084 3.62392L15.25 0.876694ZM15 4.50031C15 6.15717 13.6568 7.50031 12 7.50031C10.3433 7.50031 9.00003 6.15717 9.00003 4.50031C9.00003 2.84345 10.3433 1.50031 12 1.50031C13.6568 1.50031 15 2.84345 15 4.50031ZM15 19.5003C15 21.1572 13.6568 22.5003 12 22.5003C10.3433 22.5003 9.00003 21.1572 9.00003 19.5003C9.00003 17.8434 10.3433 16.5003 12 16.5003C13.6568 16.5003 15 17.8434 15 19.5003ZM15.8971 9.75036C16.7256 11.1852 18.5603 11.6769 19.9952 10.8484C21.4301 10.02 21.9217 8.18524 21.0933 6.75036C20.2649 5.31548 18.4301 4.82386 16.9952 5.65228C15.5603 6.48071 15.0687 8.31548 15.8971 9.75036ZM2.90676 17.2504C3.73519 18.6852 5.56996 19.1769 7.00483 18.3484C8.43971 17.52 8.93134 15.6852 8.10291 14.2504C7.27448 12.8155 5.43971 12.3239 4.00483 13.1523C2.56996 13.9807 2.07833 15.8155 2.90676 17.2504ZM7.00484 5.65218C8.43972 6.4806 8.93135 8.31537 8.10292 9.75025C7.27449 11.1851 5.43972 11.6768 4.00484 10.8483C2.56997 10.0199 2.07834 8.18513 2.90677 6.75025C3.73519 5.31537 5.56997 4.82375 7.00484 5.65218ZM19.9952 13.1522C21.4301 13.9806 21.9217 15.8154 21.0933 17.2503C20.2649 18.6851 18.4301 19.1768 16.9952 18.3483C15.5603 17.5199 15.0687 15.6851 15.8971 14.2503C16.7256 12.8154 18.5603 12.3237 19.9952 13.1522Z" fill="white"/></svg>',color:"rgb(159, 159, 159)"}],["crit_resistance",{icon:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.25 1L8 0L9.75 1H12L13.0908 2.90918L15 4V6.25L16 8L15 9.75V12L13.0908 13.0908L12 15H9.75L8 16L6.25 15H4L2.90918 13.0908L1 12V9.75L0 8L1 6.25V4L2.90918 2.90918L4 1H6.25ZM7 5.5C7 6.32843 6.32843 7 5.5 7C4.67157 7 4 6.32843 4 5.5C4 4.67157 4.67157 4 5.5 4C6.32843 4 7 4.67157 7 5.5ZM12 10.5C12 11.3284 11.3284 12 10.5 12C9.67157 12 9 11.3284 9 10.5C9 9.67157 9.67157 9 10.5 9C11.3284 9 12 9.67157 12 10.5ZM11.5303 4.46967C11.8232 4.76256 11.8232 5.23744 11.5303 5.53033L5.53033 11.5303C5.23744 11.8232 4.76256 11.8232 4.46967 11.5303C4.17678 11.2374 4.17678 10.7626 4.46967 10.4697L10.4697 4.46967C10.7626 4.17678 11.2374 4.17678 11.5303 4.46967Z" fill="white"/></svg>',color:"rgb(223, 34, 43)"}],["mine_resistance",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 17.2502C14.8995 17.2502 17.25 14.8997 17.25 12.0002C17.25 9.10069 14.8995 6.75018 12 6.75018C9.1005 6.75018 6.75 9.10069 6.75 12.0002C6.75 14.8997 9.1005 17.2502 12 17.2502Z" fill="white"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6.41421 0.585969C6.78929 0.210896 7.29799 0.000183105 7.82843 0.000183105H16.1716C16.702 0.000183105 17.2107 0.210897 17.5858 0.58597L23.4142 6.4144C23.7893 6.78947 24 7.29818 24 7.82861V16.1718C24 16.7022 23.7893 17.2109 23.4142 17.586L17.5858 23.4144C17.2107 23.7895 16.702 24.0002 16.1716 24.0002H7.82843C7.29799 24.0002 6.78929 23.7895 6.41421 23.4144L0.585786 17.586C0.210713 17.2109 0 16.7022 0 16.1718V7.82861C0 7.29818 0.210714 6.78947 0.585786 6.4144L6.41421 0.585969ZM3 15.7575V8.24282L8.24264 3.00018H15.7574L21 8.24282V15.7575L15.7574 21.0002H8.24264L3 15.7575Z" fill="white"/></g><defs><clipPath><rect width="24" height="24" fill="white"/></clipPath></defs></svg>',color:"rgb(0, 179, 113)"}]]),t=new Map([["parkour",{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g><path d="M14.25 17.625C14.25 18.2463 13.7463 18.75 13.125 18.75H10.875C10.2537 18.75 9.75 18.2463 9.75 17.625C9.75 17.0037 10.2537 16.5 10.875 16.5H13.125C13.7463 16.5 14.25 17.0037 14.25 17.625Z" fill="white"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12H21ZM6.75 6.00073C7.04263 6.00073 7.32222 6.0566 7.57867 6.15825C7.08729 6.40458 6.75 6.9129 6.75 7.5C6.75 8.32843 7.42157 9 8.25 9H9.71655C9.72764 9.00049 9.73879 9.00073 9.75 9.00073C10.1642 9.00073 10.5 8.66495 10.5 8.25073C10.5 6.17966 8.82107 4.50073 6.75 4.50073C4.67893 4.50073 3 6.17966 3 8.25073C3 8.66495 3.33579 9.00073 3.75 9.00073C4.16421 9.00073 4.5 8.66495 4.5 8.25073C4.5 7.00809 5.50736 6.00073 6.75 6.00073ZM18.0787 6.15825C17.8222 6.0566 17.5426 6.00073 17.25 6.00073C16.0074 6.00073 15 7.00809 15 8.25073C15 8.66495 14.6642 9.00073 14.25 9.00073C13.8358 9.00073 13.5 8.66495 13.5 8.25073C13.5 6.17966 15.1789 4.50073 17.25 4.50073C19.3211 4.50073 21 6.17966 21 8.25073C21 8.66495 20.6642 9.00073 20.25 9.00073C20.2388 9.00073 20.2276 9.00049 20.2166 9H18.75C17.9216 9 17.25 8.32843 17.25 7.5C17.25 6.9129 17.5873 6.40458 18.0787 6.15825Z" fill="white"/></g></svg>',color:"rgb(243, 207, 72)"}]]);function n(){document.querySelectorAll(".BattleTabStatisticComponentStyle-deviceCell div, .BattleTabStatisticComponentStyle-container div, .BattleTabStatisticComponentStyle-defenceCell div").forEach(i)}function i(n){const i=getComputedStyle(n),r=i.backgroundImage,a=i.maskImage;for(const[t,s]of e)if(r.includes(t)||a.includes(t))return void o(n,s,i,a.includes(t));for(const[e,i]of t)if(r.includes(e))return void o(n,i)}function o(e,{icon:t,color:n},i=null,o=!1){if(e.style.backgroundImage="none",e.style.maskImage=`url('data:image/svg+xml,${t}')`,e.style.maskPosition="center center",e.style.maskRepeat="no-repeat",e.style.maskSize="contain",o&&i){if("rgb(254, 102, 102)"!==i.backgroundColor)e.style.backgroundColor=n;else{e.style.backgroundColor="var(--severitium-main-color)";const t=e.nextElementSibling;!t||"H3"!==t.tagName&&"SPAN"!==t.tagName||(t.style.color="var(--severitium-main-color)")}}else e.style.backgroundColor=n}new MutationObserver(n).observe(document.body,{childList:!0,subtree:!0}),n()}(),function(){const e='.ContainerInfoComponentStyle-rewardsMenu > div:not([class*="hotkey"i])',t=".ContainerInfoComponentStyle-possibleRewardsContainer";let n=!1;function i(e,t){if(e.setAttribute("data-state",t?"active":"inactive"),t){const t=e.querySelector("img");if(t){const e=function(e){const t=e.toLowerCase();return t.includes("all")?"all":t.includes("casual")?"common":t.includes("uncommon")?"uncommon":t.includes("rare")?"rare":t.includes("epic")?"epic":t.includes("legendary")?"legendary":t.includes("red")?"mystic":"all"}(t.getAttribute("src"));document.querySelector(".ContainersComponentStyle-navigationBlockForCategories .ContainerInfoComponentStyle-typeRewardsBlock .ContainerInfoComponentStyle-rewardText")?.setAttribute("data-rarity",e)}}}function o(t){const n=t.target.closest(e);if(n){const t=document.querySelectorAll(e);for(const e of t){i(e,e===n)}}t.target.closest('.ContainerInfoComponentStyle-rewardsMenu > div[class*="hotkey"i]:first-of-type')&&a();t.target.closest('.ContainerInfoComponentStyle-rewardsMenu > div[class*="hotkey"i]:last-of-type')&&s()}function r(e){"KeyQ"===e.code?a():"KeyE"===e.code&&s()}function a(){const t=Array.from(document.querySelectorAll(e)),n=document.querySelector(`${e}[data-state="active"]`);let o=t.indexOf(n);o=-1===o?0:o>0?o-1:t.length-1,t.forEach((e,t)=>i(e,t===o))}function s(){const t=Array.from(document.querySelectorAll(e)),n=document.querySelector(`${e}[data-state="active"]`);let o=t.indexOf(n);o=-1===o?0:o<t.length-1?o+1:0,t.forEach((e,t)=>i(e,t===o))}function l(t){t.matches(e)&&i(t,window.getComputedStyle(t).backgroundColor.includes("rgba(255, 255, 255, 0.15)"))}new MutationObserver(i=>{requestAnimationFrame(()=>function(i){i.forEach(({addedNodes:i,removedNodes:a})=>{i.forEach(i=>{i.nodeType===Node.ELEMENT_NODE&&((i.matches&&i.matches(e)||i.querySelector&&i.querySelector(t))&&(n||(document.addEventListener("click",o),document.addEventListener("keydown",r),n=!0)),i.matches&&i.matches(e)&&l(i),i.querySelectorAll&&i.querySelectorAll(e).forEach(l))}),a.forEach(i=>{i.nodeType===Node.ELEMENT_NODE&&(i.matches&&i.matches(e)||i.querySelector&&i.querySelector(t))&&n&&(document.removeEventListener("click",o),document.removeEventListener("keydown",r),n=!1)})})}(i))}).observe(document.body,{childList:!0,subtree:!0})}(),function(){const e=".ContainerInfoComponentStyle-possibleRewardsContainer .ScrollBarStyle-itemsWrapper .ContainerInfoComponentStyle-itemsContainer",t=".ContainerInfoComponentStyle-possibleRewardsContainer .ScrollBarStyle-itemsWrapper .ContainerInfoComponentStyle-itemsContainer > div > div";function n(e){if(e.target.closest('.ContainerInfoComponentStyle-rewardsMenu > div:not([class*="hotkey"i])')||e.target.closest('.ContainerInfoComponentStyle-rewardsMenu > div[class*="hotkey"i]:first-of-type')||e.target.closest('.ContainerInfoComponentStyle-rewardsMenu > div[class*="hotkey"i]:last-of-type'))return void r();const n=e.target.closest(t);if(n)for(const e of document.querySelectorAll(t))e.setAttribute("data-state",e===n?"active":"inactive")}function o(e){"KeyE"!==e.code&&"KeyQ"!==e.code||r()}function r(){setTimeout(()=>{const e=document.querySelectorAll(t);if(0!==e.length)for(e[0].click(),i=0;i<e.length;i++)e[i].setAttribute("data-state",0===i?"active":"inactive")},100)}new MutationObserver(t=>{requestAnimationFrame(()=>function(t){t.forEach(({addedNodes:t,removedNodes:i})=>{t.forEach(t=>{t.nodeType===Node.ELEMENT_NODE&&(t.matches?.(e)||t.querySelector?.(e))&&(r(),document.body.addEventListener("click",n),document.body.addEventListener("keyup",o))}),i.forEach(t=>{t.nodeType===Node.ELEMENT_NODE&&(t.matches?.(e)||t.querySelector?.(e))&&(document.body.removeEventListener("click",n),document.body.removeEventListener("keyup",o))})})}(t))}).observe(document.body,{childList:!0,subtree:!0})}(),function(){function e(e){const t=e.querySelector(".CheckBoxStyle-checkbox > label > span"),n=e.querySelector(":scope > span");if(!t||!n)return;const i=`\n\t\t\t<svg class="severitium-checkbox-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22">\n\t\t\t\t<rect width="21" height="21" x=".5" y=".5" rx="3" />\n\t\t\t\t<path class="tick" fill="none" stroke-linecap="round" stroke-width="4" d="M4 10l5 5 9-9" />\n\t\t\t</svg>\n\t\t\t<span class="severitium-checkbox-text">${n.textContent}</span>\n\t\t`;t.outerHTML=i,n.remove()}function t(t){t.forEach(({addedNodes:t})=>{t.forEach(t=>{if(t.nodeType!==Node.ELEMENT_NODE)return;const n=t.matches(".EntranceComponentStyle-checkbox")?t:t.querySelector(".EntranceComponentStyle-checkbox");n&&e(n)})})}new MutationObserver(e=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(()=>t(e)):t(e)}).observe(document.body,{childList:!0,subtree:!0}),document.querySelectorAll(".EntranceComponentStyle-checkbox").forEach(e)}(),function(){var e={tanki_online:'<svg class="item-icon" width="256" height="248" viewBox="0 0 256 248" xmlns="http://www.w3.org/2000/svg"><path d="M189.387 37.2267L151.677 112.647L141.438 106.248L163.434 18.2646L189.387 37.2267Z"/><path d="M152.48 127.3C153.465 127.915 154.368 128.628 155.18 129.422C156.418 130.631 157.445 132.027 158.228 133.55C159.248 135.533 159.856 137.732 159.977 140.014C159.992 140.298 160 140.582 160 140.868V148.133C159.988 149.908 158.117 151.058 156.527 150.262L112.001 128.001L111.999 115.999C111.999 113.822 113.738 112.052 115.902 112H123.411C126.41 112 129.348 112.843 131.891 114.432L152.48 127.3Z"/><path d="M81.3518 112.676L93.3088 104.704C97.9085 101.637 103.313 100 108.842 100H123.411C126.985 100 130.51 100.684 133.8 101.999L143.594 4.06108C132.782 -1.98301 119.317 -1.28056 109.122 6.16845L13.2415 76.2222C1.98472 84.4468 -2.72557 99.0252 1.57413 112.333L38.1972 225.682C42.4969 238.99 54.8286 248 68.7427 248H187.257C201.171 248 213.503 238.99 217.803 225.682L246.611 136.522L184 140L254.323 112.652L254.426 112.333C257.621 102.444 255.841 91.8535 250.096 83.6898L170.922 133.173C171.629 135.644 172 138.231 172 140.868V148H175.072C177.514 148 179.923 148.559 182.115 149.633L201.476 159.124C213.977 165.252 220.077 179.633 215.794 192.88L207.224 219.384C204.022 229.289 194.798 236 184.388 236H162.898C159.541 236 156.21 235.396 153.066 234.217L125.824 224H114.486C109.366 231.351 100.874 236 91.505 236H68.7034C60.0255 236 52.3377 230.404 49.6711 222.146L34.4584 175.035C31.9859 167.378 35.5842 159.076 42.8625 155.646L67.9999 143.797V128L18.3238 105.073C16.9072 104.419 16 103.001 16 101.441V90.4721C16 88.957 16.856 87.572 18.2111 86.8944L22.2111 84.8944C23.3373 84.3314 24.6627 84.3314 25.7889 84.8944L81.3518 112.676Z"/><path d="M80 144L80.0022 147.147C80.0026 147.762 80.3548 148.322 80.9085 148.588L82.7203 149.46C85.8637 150.972 87.6647 154.347 87.1714 157.8L80.7543 202.72C80.2647 206.147 78.6766 209.323 76.2284 211.771L66.0476 221.951C65.5925 222.407 65.6054 223.056 65.921 223.501C66.794 223.825 67.7332 224 68.7034 224H91.505C93.8921 224 96.1797 223.472 98.2412 222.514C102.52 220.526 105.825 216.688 107.027 211.881L116.642 173.431C118.512 165.705 114.424 157.769 107.033 154.812L80 144Z"/><path d="M168.064 224H184.388C189.593 224 194.205 220.644 195.806 215.692L204.376 189.188C206.823 181.619 203.338 173.401 196.194 169.899L176.833 160.408C176.566 160.278 176.287 160.177 176 160.109V163.01C176 163.616 176.342 164.17 176.884 164.441L177.794 164.896C181.355 166.677 183.065 170.804 181.806 174.581L168.597 214.207C168.204 215.386 167.543 216.456 166.665 217.334L162.049 221.951C161.293 222.706 161.828 223.999 162.897 223.999H168L168.064 224Z"/><path d="M163.158 120.447C164.781 121.97 166.207 123.672 167.414 125.513L232.398 68.6521L218.333 58.3758L163.158 120.447Z"/><path d="M128 160L160.732 173.093C164.772 174.708 166.779 179.256 165.252 183.329L157.947 202.809C156.776 205.931 153.791 208 150.456 208H120L128 176C129.314 170.747 129.314 165.252 128 160Z"/></svg>',vk:'<svg class="item-icon" width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_14426_51602)"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.37413 3.37413C0 6.74826 0 12.1788 0 23.04V24.96C0 35.8212 0 41.2517 3.37413 44.6259C6.74826 48 12.1788 48 23.04 48H24.96C35.8212 48 41.2517 48 44.6259 44.6259C48 41.2517 48 35.8212 48 24.96V23.04C48 12.1788 48 6.74826 44.6259 3.37413C41.2517 0 35.8212 0 24.96 0H23.04C12.1788 0 6.74826 0 3.37413 3.37413ZM8.10059 14.5996C8.36059 27.0796 14.6005 34.5796 25.5405 34.5796H26.1607V27.4396C30.1807 27.8396 33.2204 30.7796 34.4404 34.5796H40.1206C38.5606 28.8996 34.4604 25.7596 31.9004 24.5596C34.4604 23.0796 38.0604 19.4796 38.9204 14.5996H33.7603C32.6403 18.5596 29.3207 22.1596 26.1607 22.4996V14.5996H21.0005V28.4396C17.8005 27.6396 13.7606 23.7596 13.5806 14.5996H8.10059Z"/></g><defs><clipPath id="clip0_14426_51602"><rect width="48" height="48"/></clipPath></defs></svg>',google:'<svg class="item-icon" width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_11467_48483)"><path d="M47.4898 24.54C47.4898 22.96 47.3498 21.46 47.1098 20H24.5098V29.02H37.4498C36.8698 31.98 35.1698 34.48 32.6498 36.18V42.18H40.3698C44.8898 38 47.4898 31.84 47.4898 24.54Z"/><path d="M24.5098 48.0001C30.9898 48.0001 36.4098 45.8401 40.3698 42.1801L32.6498 36.1801C30.4898 37.6201 27.7498 38.5001 24.5098 38.5001C18.2498 38.5001 12.9498 34.2801 11.0498 28.5801H3.08984V34.7601C7.02984 42.6001 15.1298 48.0001 24.5098 48.0001Z"/><path d="M11.0498 28.5802C10.5498 27.1402 10.2898 25.6002 10.2898 24.0002C10.2898 22.4002 10.5698 20.8602 11.0498 19.4202V13.2402H3.08976C1.44976 16.4802 0.509766 20.1202 0.509766 24.0002C0.509766 27.8802 1.44976 31.5202 3.08976 34.7602L11.0498 28.5802Z"/><path d="M24.5098 9.5C28.0498 9.5 31.2098 10.72 33.7098 13.1L40.5498 6.26C36.4098 2.38 30.9898 0 24.5098 0C15.1298 0 7.02984 5.40001 3.08984 13.24L11.0498 19.42C12.9498 13.72 18.2498 9.5 24.5098 9.5Z"/></g><defs><clipPath id="clip0_11467_48483"><rect width="48" height="48"/></clipPath></defs></svg>',create_account:'<svg class="item-icon" width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M19.5 0H28.5V19.5H48V28.5L0 28.5V19.5H19.5V0Z"/><path d="M19.5003 37.5001L28.5003 28.5001V48.0001L19.5003 48.0001V37.5001Z"/></svg>',authorization:'<svg class="item-icon" width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 0C1.79086 0 0 1.79086 0 4V21H30L15 6H24L42 24L24 42H15L30 27H0V44C0 46.2091 1.79086 48 4 48H44C46.2091 48 48 46.2091 48 44V4C48 1.79086 46.2091 0 44 0H4Z"/></svg>'};function t(t){const n=t.querySelector("img[class*='icon'i]");if(!n)return;const i=n.getAttribute("src");for(const n in e)if(i.includes(n)){const i=t.querySelector("span[class*='buttontext'i]")?.innerText||"",o=document.createElement("div");o.className="severitium-entrance-icon",o.innerHTML=`\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<svg viewBox="0 0 200 200" fill="none" class="border-visuals">\n\t\t\t\t\t\t\t<circle cx="100" cy="100" r="96"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t${e[n]}\n\t\t\t\t\t</div>\n\t\t\t\t\t${i?`<span>${i}</span>`:""}\n\t\t\t\t`,t.innerHTML="",t.appendChild(o);break}}function n({addedNodes:e}){e.forEach(e=>{if(e.nodeType!==Node.ELEMENT_NODE)return;[...e.matches(".MainEntranceComponentStyle-container > div")?[e]:e.querySelectorAll(".MainEntranceComponentStyle-container > div"),...e.matches(".HeaderComponentStyle-headerLinkBar .SocialNetworksComponentStyle-container > div")?[e]:e.querySelectorAll(".HeaderComponentStyle-headerLinkBar .SocialNetworksComponentStyle-container > div")].forEach(t)})}new MutationObserver(e=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(()=>e.forEach(n)):e.forEach(n)}).observe(document.body,{childList:!0,subtree:!0}),document.querySelectorAll(".MainEntranceComponentStyle-container > div, .HeaderComponentStyle-headerLinkBar .SocialNetworksComponentStyle-container > div").forEach(t)}(),function(){function e(){const e=document.querySelector(".HeaderComponentStyle-enableIconLinksComponentShowed");if(!e)return;const t=`\n\t\t\t<svg class="severitium-link-rects" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t${[...Array(9)].map((e,t)=>`<rect x="${t%3*11}" y="${11*Math.floor(t/3)}" width="8" height="8" rx="1"/>`).join("")}\n\t\t\t</svg>\n\t\t`;e.innerHTML=t;const n=document.querySelector(".severitium-link-rects");n&&document.querySelector(".severitium-link-rects").addEventListener("mouseenter",function(){let e=this.getAttribute("fill");const t=Array.from(n.querySelectorAll("rect"));let i=-1,o=setInterval(function(){const n=function(e,t,n){let i;do{i=Math.floor(Math.random()*(t-e))+e}while(i===n);return i}(0,t.length,i);i=n,t.forEach((t,i)=>{t.setAttribute("fill",i===n?"var(--severitium-main-color)":e)})},250);this.addEventListener("mouseleave",function(){clearInterval(o);for(var n=0;n<t.length;n++)t[n].setAttribute("fill",e)})})}function t({addedNodes:t}){t.forEach(t=>{t.nodeType===Node.ELEMENT_NODE&&(t.matches(".HeaderComponentStyle-enableIconLinksComponentShowed")||t.querySelector(".HeaderComponentStyle-enableIconLinksComponentShowed"))&&e()})}new MutationObserver(e=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(()=>e.forEach(t)):e.forEach(t)}).observe(document.body,{childList:!0,subtree:!0}),e()}(),function(){const e=new WeakSet;function t(t){if(e.has(t))return;const n=t.closest("label");if(!n)return;const i=n.querySelector("span");if(!i)return;const o=getComputedStyle(i,"::before").backgroundImage||"";t.classList.add("no-transition");let r="off";r=/\/incorrect[^\/]*\.svg["']?\)?$/.test(o)?"off":"on",t.setAttribute("data-state",r),t.checked="on"===r,e.add(t)}function n(t){e.has(t)&&e.delete(t)}let i=null;document.querySelectorAll('input[type="checkbox"]').forEach(t);new MutationObserver(e=>{for(const i of e){for(const e of i.addedNodes)1===e.nodeType&&(e.matches?.('.CheckBoxStyle-checkbox input[type="checkbox"]')?t(e):e.querySelectorAll?.('.CheckBoxStyle-checkbox input[type="checkbox"]').forEach(t));for(const e of i.removedNodes)1===e.nodeType&&(e.matches?.('.CheckBoxStyle-checkbox input[type="checkbox"]')?n(e):e.querySelectorAll?.('.CheckBoxStyle-checkbox input[type="checkbox"]').forEach(n))}}).observe(document.body,{childList:!0,subtree:!0}),document.body.addEventListener("click",function(e){const t=e.target.closest('[class*="checkbox" i]');if(!t)return;const n=t.querySelector('label > input[type="checkbox"]');if(!n)return;if(n.classList.contains("no-transition")&&n.classList.remove("no-transition"),n===i)return;i=n,setTimeout(()=>{i=null},50);const o="on"===(n.getAttribute("data-state")||"off")?"off":"on";n.setAttribute("data-state",o)},!0)}(),function(){const e="rgb(118, 255, 51)",t="data-sort-state",n="neutral",i="up",o="down",r=new Map;function a(e){const t=function(){let e;do{e=crypto.randomUUID()}while(r.has(e));return r.set(e,!0),e}();e.setAttribute("data-sort-id",t);const n=`\n\t\t\t/* Inactive sorting icon */\n\t\t\tdiv.TableComponentStyle-commonSort[data-sort-state*="neutral"i][data-sort-id="${t}"] .TableComponentStyle-sortIndicatorUpDown,\n\t\t\tdiv.TableComponentStyle-commonSort[data-sort-state*="down"i][data-sort-id="${t}"] .TableComponentStyle-sortIndicatorUpDown:first-of-type,\n\t\t\tdiv.TableComponentStyle-commonSort[data-sort-state*="up"i][data-sort-id="${t}"] .TableComponentStyle-sortIndicatorUpDown:last-of-type {\n\t\t\t\tbackground-color: var(--severitium-light-gray-color);\n\t\t\t}\n\n\t\t\t/* Active sorting down */\n\t\t\tdiv.TableComponentStyle-commonSort[data-sort-state*="down"i][data-sort-id="${t}"] .TableComponentStyle-sortIndicatorUpDown:last-of-type {\n\t\t\t\tbackground-color: var(--severitium-main-color);\n\t\t\t}\n\n\t\t\t/* Active sorting up */\n\t\t\tdiv.TableComponentStyle-commonSort[data-sort-state*="up"i][data-sort-id="${t}"] .TableComponentStyle-sortIndicatorUpDown:first-of-type {\n\t\t\t\tbackground-color: var(--severitium-main-color);\n\t\t\t}\n\t\t`,i=document.createElement("style");i.textContent=n,e.prepend(i)}function s(r){const a=r.querySelectorAll(".TableComponentStyle-sortIndicatorUpDown");if(2!==a.length)return;const[s,l]=a,c=getComputedStyle(s).backgroundColor,u=getComputedStyle(l).backgroundColor,d=c===e?i:u===e?o:n;r.setAttribute(t,d)}function l(e){e.forEach(({addedNodes:e})=>{e.forEach(e=>{if(e.nodeType!==Node.ELEMENT_NODE)return;const t=e.matches(".TableComponentStyle-commonSort")?[e]:Array.from(e.querySelectorAll(".TableComponentStyle-commonSort"));for(const e of t)s(e),a(e)})})}new MutationObserver(e=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(()=>l(e)):l(e)}).observe(document.body,{childList:!0,subtree:!0}),document.body.addEventListener("click",e=>{const r=e.target.closest("th");if(!r)return;const a=r.querySelector(".TableComponentStyle-commonSort");a&&function(e){document.querySelectorAll(".TableComponentStyle-commonSort").forEach(i=>{i!==e&&i.setAttribute(t,n)});const r=e.getAttribute(t);e.setAttribute(t,r===o?i:o)}(a)})}(),function(){const e=".ApplicationLoaderComponentStyle-loader, .progress, .LobbyLoaderComponentStyle-loaderContainer img, #preloader .progress",t=".ApplicationLoaderComponentStyle-container, .LobbyLoaderComponentStyle-container";let n={},i=0,o=0;const r={colors:["#ffffff","#fec777","#498fb3","#77fee1","#fa8072"],path:new Path2D("M1 .5C.72.5.5.28.5 0 .5.28.28.5 0 .5.28.5.5.72.5 1 .5.72.72.5 1 .5")};class a{constructor(e){this.canvas=e,this.X=this.canvas.width/2,this.Y=this.canvas.height/2,this.SX=10*Math.random()-5,this.SY=10*Math.random()-5;const t=Math.max(this.canvas.width,this.canvas.height);var o,a,s;this.X+=this.SX*t/10,this.Y+=this.SY*t/10,i++,n[i]=this,this.ID=i,this.C=r.colors[Math.floor(Math.random()*r.colors.length)],this.scale=(o=2,a=8,s=2,parseFloat((Math.random()*(a-o)+o).toFixed(s))),this.path=r.path}draw(e,t){this.canvas&&(e*=60,this.X+=this.SX*e,this.Y+=this.SY*e,this.SX+=this.SX/100*e,this.SY+=this.SY/100*e,(this.X<10*-this.scale||this.X>this.canvas.width||this.Y<10*-this.scale||this.Y>this.canvas.height)&&(delete n[this.ID],o--),t.save(),t.fillStyle=this.C,t.translate(this.X,this.Y),t.scale(this.scale,this.scale),t.stroke(this.path),t.fill(this.path),t.restore())}}function s(e){if(!e)return;let t=document.createElement("canvas");t.className="severitium-star-canvas";const i=document.createElement("div");i.className="severitium-star-canvas-container",e.append(i),i.append(t),t.width=e.clientWidth,t.height=e.clientHeight;const r=t.getContext("2d");let s=t.width*t.height/8e3,l=performance.now();e.dataset.animationId=requestAnimationFrame(function i(c){if(!t||!t.getContext)return;t.width===e.clientWidth&&t.height===e.clientHeight||(t.width=e.clientWidth,t.height=e.clientHeight);const u=(c-l)/1e3;for(l=c,r.fillStyle="rgba(0, 0, 0, 1)",r.fillRect(0,0,t.width,t.height);o<s;)new a(t),o++;Object.values(n).forEach(e=>e.draw(u,r)),e.dataset.animationId=requestAnimationFrame(i)})}function l(e){if(!e)return;const t=e.dataset.animationId;t&&(cancelAnimationFrame(t),e.dataset.animationId=null),n={},i=0,o=0;const r=e.querySelector(".severitium-star-canvas");r&&r.parentNode.remove()}function c(e){const t=document.createElement("div"),n=document.createElement("div");t.className="severitium-progress",t.style.bottom=e.style.bottom,t.append(n),e.replaceWith(t)}function u({addedNodes:n,removedNodes:i}){n.forEach(n=>{if(n.nodeType!==Node.ELEMENT_NODE)return;n.matches(t)&&(n.matches(t)?s(n):s(n.querySelector(t)));const i=n.matches(e)?n:n.querySelector(e);i&&c(i)}),i.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&(e.matches(t)||e.querySelector(t))&&(e.matches(t)?l(e):l(e.querySelector(t)))})}new MutationObserver(e=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(()=>e.forEach(u)):e.forEach(u)}).observe(document.body,{childList:!0,subtree:!0});const d=document.querySelector(e);d&&c(d)}(),function(){function e(e){if(e.dataset.replaced)return;const t=window.getComputedStyle(e),n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("fill","none"),n.setAttribute("viewBox","0 0 30 30"),n.classList.add("severitium-notificator-icon");e.closest(".MainScreenComponentStyle-blockMainMenu > ul > li")||Object.assign(n.style,{position:t.position,display:t.display,height:t.height,width:t.width,right:t.right,top:t.top,left:t.left,bottom:t.bottom,marginRight:t.marginRight,marginLeft:t.marginLeft,marginTop:t.marginTop,marginBottom:t.marginBottom}),n.innerHTML='\n\t\t\t<circle cx="15" cy="15" r="8" fill="var(--severitium-main-color)"/>\n\t\t\t<circle cx="15" cy="15" r="11.5" stroke="var(--severitium-main-color)" stroke-opacity="0.25" stroke-width="7"/>\n\t\t',Object.assign(e.style,{position:"absolute",height:"1px",width:"1px",overflow:"hidden",clip:"rect(0 0 0 0)"}),e.dataset.replaced="true",e.parentNode.appendChild(n)}function t(e){const t=e.parentNode.querySelector(".severitium-notificator-icon");t&&(t.remove(),delete e.dataset.replaced,e.style.display="")}const n="img[class*='notification'i][src*='ellipse'i], img[class*='new'i][src*='ellipse'i]:not([class*='nonew'i]), .NewsComponentStyle-newsItemDate img[src*='circle'i]";function i(i){i.forEach(({addedNodes:i,removedNodes:o,type:r,target:a,attributeName:s})=>{if(i.forEach(t=>{if(t.nodeType!==Node.ELEMENT_NODE)return;const i=t.matches(n)?t:t.querySelector(n);i&&e(i)}),o.forEach(e=>{if(e.nodeType!==Node.ELEMENT_NODE)return;const i=e.matches(n)?e:e.querySelector(n);i&&t(i)}),"attributes"===r&&"class"===s&&a.matches("img[class*='new'i][src*='ellipse'i]")){[...a.classList].some(e=>/nonew/i.test(e))?t(a):e(a)}})}new MutationObserver(e=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(()=>i(e)):i(e)}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),document.querySelectorAll(n).forEach(e)}(),function(){const e=new Map,t=new Map;function n(n){const i=n.cloneNode(!0);i.classList.add("cloned");const o=i.querySelector(".ContextMenuStyle-menu"),r=n.querySelector(".ContextMenuStyle-menu"),a=function(){let e;do{e=crypto.randomUUID()}while(t.has(e));return t.set(e,!0),e}();o&&(o.dataset.clone="true",o.dataset.mid=a,e.set(a,i)),r&&(r.dataset.mid=a)}function i(t){t.forEach(({addedNodes:t,removedNodes:i})=>{t.forEach(e=>{if(e.nodeType!==Node.ELEMENT_NODE)return;if(!e.classList.contains("modal")||e.classList.contains("cloned"))return;e.querySelector(".ContextMenuStyle-menu")&&(n(e),function(e){const t=e.querySelectorAll(".ContextMenuStyle-menu > div > span"),n=new Set;t.forEach(t=>{const i=window.getComputedStyle(t).color,o=t.closest("div");let r;do{r="severitiumID-PCM-"+Math.random().toString(36).substring(7)}while(n.has(r));if(n.add(r),o.id=r,"rgb(255, 124, 124)"===i){const t=document.createElement("style");t.innerHTML=`\n\t\t\t\t\t.ContextMenuStyle-menu > div#${r} > span { color: var(--severitium-red-text-color); }\n\t\t\t\t\t.ContextMenuStyle-menu > div#${r}:hover { background-color: rgba(225, 75, 75, 0.1) !important; }\n\t\t\t\t\t.ContextMenuStyle-menu > div#${r}:hover::before { background-color: rgba(225, 75, 75, 0.75) !important; }\n\t\t\t\t`,e.appendChild(t)}})}(e))}),i.forEach(t=>{if(t.nodeType!==Node.ELEMENT_NODE)return;if(!t.classList.contains("ContextMenuStyle-menu")||t.dataset.clone)return;const n=t.getAttribute("data-mid");n&&function(t){const n=document.getElementById("modal-root"),i=e.get(t);i&&n.appendChild(i);const o=n.querySelector(".modal.cloned");if(o){const i=o.querySelector(`.ContextMenuStyle-menu[data-clone='true'][data-mid='${t}']`);i&&(i.classList.add("fadeOutDown"),i.addEventListener("animationend",()=>{n.removeChild(o),e.delete(t)}))}}(n)})})}new MutationObserver(e=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(()=>i(e)):i(e)}).observe(document.body,{childList:!0,subtree:!0})}(),function(){const e=new WeakMap;function t(e){const t=parseFloat(e.min)||0,n=parseFloat(e.max)||100,i=((parseFloat(e.value)||0)-t)/(n-t)*100;e.style.background=`linear-gradient(to right, var(--severitium-main-color) ${i}%, var(--severitium-gray-color) ${i}%)`}function n(n){if(e.has(n))return;t(n);const i=new MutationObserver(()=>t(n));i.observe(n,{attributes:!0,attributeFilter:["value"]}),e.set(n,i)}function i(t){e.has(t)&&(e.get(t).disconnect(),e.delete(t))}document.querySelectorAll('input[type="range"].InputRangeComponentStyle-range').forEach(n);new MutationObserver(e=>{for(const t of e){for(const e of t.addedNodes)1===e.nodeType&&(e.matches&&e.matches('input[type="range"].InputRangeComponentStyle-range')?n(e):e.querySelectorAll?.('input[type="range"].InputRangeComponentStyle-range').forEach(n));for(const e of t.removedNodes)1===e.nodeType&&(e.matches&&e.matches('input[type="range"].InputRangeComponentStyle-range')?i(e):e.querySelectorAll?.('input[type="range"].InputRangeComponentStyle-range').forEach(i))}}).observe(document.body,{childList:!0,subtree:!0})}(),function(){const e=".ChatComponentStyle-channels .ChatComponentStyle-channelsSelect";function t(){const e=document.querySelector(".ChatComponentStyle-channels .ChatComponentStyle-channelsSelect");if(!e)return;const t=e.querySelector("select");if(!t)return;const n=Array.from(t.options).map(e=>({name:e.textContent||"",value:e.value||""})),i={name:t.options[t.selectedIndex]?.textContent||"",value:t.value||""},o=new BreeziumSelect(n,e=>{t.value=e,t.dispatchEvent(new Event("change",{bubbles:!0}))},i);o.render(e.parentNode,e.nextSibling);const r=o.selected;r.dataset.state="selected",r.addEventListener("click",()=>{const e=document.querySelector(".ChatComponentStyle-channels .ChatComponentStyle-clanChannel");"selected"===e?.dataset.state&&(t.value=r.dataset.value,t.dispatchEvent(new Event("change",{bubbles:!0})),e.dataset.state="",o.container.classList.remove("show"),r.dataset.state="selected")});const a=document.querySelector(".ChatComponentStyle-channels .ChatComponentStyle-clanChannel");a&&a.addEventListener("click",()=>{const e="selected"===a.dataset.state;a.dataset.state=e?"":"selected",r.dataset.state=e?"selected":""}),document.querySelector(".ChatComponentStyle-chatWindow")?.addEventListener("click",e=>{!o.container.contains(e.target)&&o.container.classList.contains("show")&&o.container.classList.remove("show")})}new MutationObserver(n=>{"function"!=typeof requestAnimationFrame?n.forEach(n=>{"childList"===n.type&&n.addedNodes.forEach(n=>{n.nodeType===Node.ELEMENT_NODE&&(n.matches(e)||n.querySelector(e))&&t()})}):requestAnimationFrame(()=>{n.forEach(n=>{"childList"===n.type&&n.addedNodes.forEach(n=>{n.nodeType===Node.ELEMENT_NODE&&(n.matches(e)||n.querySelector(e))&&t()})})})}).observe(document.body,{childList:!0,subtree:!0})}(),function(){let e={prevX:10,prevY:25};function t(e,t,n,i){let o;do{o=Math.floor(Math.random()*(t-e+1))+e}while(Math.abs(o-n)>i);return o}function n(n){let{prevX:i,prevY:o}=e;n.dataset.animationRunning||(n.dataset.animationRunning="true",n.dataset.animationFrameId=requestAnimationFrame(function r(){if(!n.classList.contains("MainScreenComponentStyle-disabledButtonPlay"))return void delete n.dataset.animationRunning;const a=t(0,100,i,35),s=t(0,100,o,35);n.style.transition="background-position 0.75s ease",n.style.backgroundPosition=`${a}% ${s}%`,e.prevX=a,e.prevY=s,setTimeout(()=>{n.dataset.animationFrameId=requestAnimationFrame(r)},1250)}))}function i(t){t.dataset.animationFrameId&&(cancelAnimationFrame(Number(t.dataset.animationFrameId)),delete t.dataset.animationFrameId),delete t.dataset.animationRunning;const n=document.querySelector(".MainScreenComponentStyle-playButtonContainer");n&&(n.style.backgroundPosition=`${e.prevX}% ${e.prevY}%`)}function o(e){for(const t of e){if("childList"===t.type){for(const e of t.addedNodes)if(e.nodeType===Node.ELEMENT_NODE){const t=e.matches(".MainScreenComponentStyle-playButtonContainer")?e:e.querySelector(".MainScreenComponentStyle-playButtonContainer");t?.classList.contains("MainScreenComponentStyle-disabledButtonPlay")&&n(t)}for(const e of t.removedNodes)if(e.nodeType===Node.ELEMENT_NODE){const t=e.matches(".MainScreenComponentStyle-playButtonContainer")?e:e.querySelector(".MainScreenComponentStyle-playButtonContainer");t&&i(t)}}if("attributes"===t.type&&"class"===t.attributeName){const e=t.target;e.classList.contains("MainScreenComponentStyle-playButtonContainer")&&(e.classList.contains("MainScreenComponentStyle-disabledButtonPlay")?n(e):i(e))}}}new MutationObserver(e=>{"function"!=typeof requestAnimationFrame?o(e):requestAnimationFrame(()=>o(e))}).observe(document.body,{attributes:!0,childList:!0,subtree:!0})}(),function(){let e=0,t=0,n=!1;document.body.addEventListener("mousemove",i=>{const o=i.target.closest(".SuperMissionComponentStyle-descriptionSuperMission div.SuperMissionComponentStyle-buttonCollect");if(!o)return;const r=o.getBoundingClientRect(),a=i.clientX-r.left,s=i.clientY-r.top;a===e&&s===t||(e=a,t=s,n||(n=!0,requestAnimationFrame(()=>{o.style.setProperty("--severitium-superquest-button-x",`${e}px`),o.style.setProperty("--severitium-superquest-button-y",`${t}px`),n=!1})))},{passive:!0})}();class ThemeCache{constructor(){this.cacheKey="SeveritiumThemeCache",this.settingsKey="SeveritiumThemeSettings"}generateThemeCSS(e){let t=":root {\n";t+="\t/* Severitium Dynamic Theme Variables */\n";for(const[n,i]of Object.entries(e))t+=`\t${n}: ${i};\n`;return t+="}",t}updateThemeCache(e){const t=this.generateThemeCSS(e);this.requestCacheUpdate(t,e),this.updateLocalStorageCache(t,e),console.log("Severitium: Theme cache update requested")}requestCacheUpdate(e,t){const n=new CustomEvent("severitium:updateThemeCache",{detail:{themeCSS:e,variables:t,version:this.currentVersion,timestamp:Date.now()}});document.dispatchEvent(n)}updateLocalStorageCache(e,t){if("undefined"!=typeof localStorage)try{let t={};const n=localStorage.getItem("SeveritiumCSS");n&&(t=JSON.parse(n)),t["theme-variables"]=e,localStorage.setItem("SeveritiumCSS",JSON.stringify(t)),localStorage.setItem(this.versionKey,this.currentVersion)}catch(e){console.warn("Severitium: Failed to update localStorage cache:",e)}}applyThemeVariables(e){for(const[t,n]of Object.entries(e))document.documentElement.style.setProperty(t,n);this.injectThemeStyle(e)}injectThemeStyle(e){const t=document.getElementById("severitium-dynamic-theme");t&&t.remove();const n=document.createElement("style");n.id="severitium-dynamic-theme",n.textContent=this.generateThemeCSS(e),document.head.insertBefore(n,document.head.firstChild)}loadCachedTheme(){const e=GM_getValue("SeveritiumCSS",{})["theme-variables"];if(e){const t=this.extractVariablesFromCSS(e);return this.applyThemeVariables(t),t}return null}extractVariablesFromCSS(e){const t={},n=e.match(/--[^:]+:[^;]+;/g);return n&&n.forEach(e=>{const[n,i]=e.split(":").map(e=>e.trim());t[n]=i.replace(";","").trim()}),t}needsCacheInvalidation(){return GM_getValue(this.versionKey,"")!==this.currentVersion}init(){const e=this.loadCachedTheme();return e&&console.log("Severitium: Loaded theme from cache"),e}}if(window.SeveritiumThemeCache=ThemeCache,"undefined"!=typeof GM_setValue&&"undefined"!=typeof GM_getValue){function parseVariablesFromCSS(e){const t={};if(!e)return t;const n=e.match(/:root\s*{([^}]*)}/);if(n){const e=n[1].match(/--[^:;]+:[^;]+;/g);e&&e.forEach(e=>{const[n,i]=e.split(":").map(e=>e.trim());n&&i&&(t[n]=i.replace(";","").trim())})}return t}function getCurrentVariablesFromCache(){const e=`https://cdn.jsdelivr.net/gh/OrakomoRi/Severitium@builds/${"undefined"!=typeof GM_info&&GM_info.script?GM_info.script.version:"1.0.0"}/variables.json`;return new Promise((t,n)=>{GM_xmlhttpRequest({method:"GET",url:e,timeout:5e3,onload:function(e){if(200===e.status)try{const n=JSON.parse(e.responseText);if(n.variables)return console.log("Severitium: Loaded variables from CDN:",Object.keys(n.variables).length,"variables"),void t(n.variables)}catch(e){console.warn("Severitium: Failed to parse variables from CDN:",e)}console.log("Severitium: CDN failed, falling back to cached CSS parsing");const n=parseVariablesFromCachedCSS();t(n)},onerror:function(e){console.warn("Severitium: CDN request failed, falling back to cached CSS:",e);const n=parseVariablesFromCachedCSS();t(n)},ontimeout:function(){console.warn("Severitium: CDN request timed out, falling back to cached CSS");const e=parseVariablesFromCachedCSS();t(e)}})})}function parseVariablesFromCachedCSS(){return parseVariablesFromCSS(GM_getValue("SeveritiumCSS",{}).main||"")}document.addEventListener("severitium:requestVariables",async e=>{try{const e=await getCurrentVariablesFromCache(),t=new CustomEvent("severitium:variablesResponse",{detail:{variables:e,timestamp:Date.now(),source:"userscript"}});document.dispatchEvent(t)}catch(e){console.error("Severitium: Failed to get variables:",e);const t=new CustomEvent("severitium:variablesResponse",{detail:{variables:{},timestamp:Date.now(),source:"userscript",error:e.message}});document.dispatchEvent(t)}}),document.addEventListener("severitium:requestThemeSettings",e=>{const t=GM_getValue("SeveritiumThemeSettings",null);let n=null;if(t)try{n=JSON.parse(t)}catch(e){console.warn("Severitium: Failed to parse theme settings from GM storage")}const i=new CustomEvent("severitium:themeSettingsResponse",{detail:{settings:n,timestamp:Date.now(),source:"userscript"}});document.dispatchEvent(i)}),document.addEventListener("severitium:saveThemeSettings",e=>{if(e.detail&&e.detail.settings)try{GM_setValue("SeveritiumThemeSettings",JSON.stringify(e.detail.settings)),console.log("Severitium: Theme settings saved to GM storage")}catch(e){console.error("Severitium: Failed to save theme settings:",e)}}),document.addEventListener("severitium:updateThemeCache",e=>{if(e.detail&&e.detail.themeCSS)try{const t=GM_getValue("SeveritiumCSS",{});t["theme-variables"]=e.detail.themeCSS,GM_setValue("SeveritiumCSS",t),GM_setValue("SeveritiumThemeCacheVersion",e.detail.version||"1.0.0"),console.log("Severitium: Theme cache updated via userscript");const n=document.getElementById("severitium-dynamic-theme");if(n)n.textContent=e.detail.themeCSS;else{const t=document.createElement("style");t.id="severitium-dynamic-theme",t.textContent=e.detail.themeCSS,document.head.insertBefore(t,document.head.firstChild)}}catch(e){console.error("Severitium: Failed to update theme cache:",e)}}),console.log("Severitium: Theme integration bridge initialized")}else console.warn("Severitium: Theme integration requires userscript context (GM_setValue/GM_getValue not available)");!function(){function e(){void 0!==ThemeSettings?window.severitiumThemeSettings||(window.severitiumThemeSettings=new ThemeSettings,console.log("Severitium: Theme settings initialized")):console.warn("Severitium: ThemeSettings class not found")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}();class ThemeSettings{constructor(){this.settingsContainer=null,this.menuContainer=null,this.isInitialized=!1,this.storageKey="SeveritiumThemeSettings",this.defaultVariables=this.getDefaultVariables(),this.currentVariables=this.loadSettings(),this.themeCache=new(window.SeveritiumThemeCache||class{updateThemeCache(){console.warn("ThemeCache not available")}applyThemeVariables(){console.warn("ThemeCache not available")}init(){return null}}),this.init()}getDefaultVariables(){const e=this.requestVariablesFromUserscript();return e||this.getFallbackVariables()}requestVariablesFromUserscript(){return new Promise(e=>{let t=null,n=null;const i=new CustomEvent("severitium:requestVariables",{detail:{timestamp:Date.now()}}),o=i=>{i.detail&&(i.detail.variables||i.detail.error)&&(clearTimeout(n),t=i.detail.variables||{},document.removeEventListener("severitium:variablesResponse",o),e(t))};document.addEventListener("severitium:variablesResponse",o),n=setTimeout(()=>{document.removeEventListener("severitium:variablesResponse",o),console.warn("Severitium: Variables request timed out, using fallback"),e(null)},2e3),document.dispatchEvent(i)})}getFallbackVariables(){return{"--severitium-main-color":"rgb(233, 67, 67)","--severitium-white-text-color":"rgb(255, 255, 255)","--severitium-dark-white-text-color":"rgb(225, 225, 225)","--severitium-extra-light-gray-text-color":"rgb(200, 200, 200)","--severitium-light-gray-text-color":"rgb(150, 150, 150)","--severitium-black-text-color":"rgb(0, 0, 0)","--severitium-red-text-color":"rgb(255, 100, 100)","--severitium-gold-text-color":"rgb(255, 185, 100)","--severitium-yellow-text-color":"rgb(225, 205, 75)","--severitium-green-text-color":"rgb(110, 255, 100)","--severitium-blue-text-color":"rgb(100, 170, 255)","--severitium-orange-text-color":"rgb(255, 150, 100)","--severitium-purple-text-color":"rgb(200, 115, 225)","--severitium-light-blue-text-color":"rgb(120, 190, 225)","--severitium-friend-color":"rgb(202, 104, 219)","--severitium-crystal-color":"rgb(100, 185, 225)","--severitium-tancoin-color":"rgb(225, 190, 85)","--severitium-ruby-color":"rgb(255, 125, 125)","--severitium-dark-transparent-background1":"rgba(0, 0, 0, .5)","--severitium-dark-transparent-background2":"rgba(0, 0, 0, .25)","--severitium-dark-transparent-background3":"rgba(0, 0, 0, .1)","--severitium-dark-transparent-background4":"rgba(0, 0, 0, .75)","--severitium-light-transparent-background1":"rgba(255, 255, 255, .5)","--severitium-light-transparent-background2":"rgba(255, 255, 255, .25)","--severitium-light-transparent-background3":"rgba(255, 255, 255, .1)","--severitium-red-transparent-background1":"rgba(255, 0, 0, .1)","--severitium-white-color":"rgb(255, 255, 255)","--severitium-extra-light-gray-color":"rgb(200, 200, 200)","--severitium-light-gray-color":"rgb(150, 150, 150)","--severitium-gray-color":"rgb(100, 100, 100)","--severitium-dark-gray-color":"rgb(50, 50, 50)","--severitium-black-color":"rgb(0, 0, 0)","--severitium-light-green-color":"rgb(75, 255, 58)","--severitium-green-color":"rgb(75, 200, 75)","--severitium-dark-green-color":"rgb(62, 121, 62)","--severitium-red-color":"rgb(225, 75, 75)","--severitium-yellow-color":"rgb(225, 205, 75)","--severitium-orange-color":"rgb(225, 165, 75)","--severitium-light-blue-color":"rgb(75, 162, 225)","--severitium-purple-color":"rgb(165, 30, 200)","--severitium-blue-color":"rgb(110, 100, 255)","--severitium-gray-button-background":"rgba(225, 225, 225, .2)","--severitium-gray-button-color":"rgb(255, 255, 255)","--severitium-gray-button-border-color":"rgba(255, 255, 255, .25)","--severitium-gray-button-border-color-hover":"rgba(255, 255, 255, .75)","--severitium-green-button-background":"rgba(27, 242, 67, 0.2)","--severitium-green-button-background-hover":"rgba(27, 242, 67, 0.4)","--severitium-green-button-color":"rgb(112, 232, 114)","--severitium-green-button-border-color":"rgba(27, 242, 67, .25)","--severitium-green-button-border-color-hover":"rgba(27, 242, 67, .75)","--severitium-red-button-background":"rgba(242, 27, 27, 0.2)","--severitium-red-button-color":"rgb(255, 148, 148)","--severitium-red-button-border-color":"rgba(242, 27, 27, .25)","--severitium-red-button-border-color-hover":"rgba(242, 27, 27, .75)","--severitium-gold-button-background":"rgba(242, 192, 27, 0.2)","--severitium-gold-button-color":"rgb(255, 226, 169)","--severitium-gold-button-border-color":"rgba(242, 192, 27, .25)","--severitium-gold-button-border-color-hover":"rgba(242, 192, 27, .75)","--severitium-blue-button-background":"rgba(27, 120, 242, 0.2)","--severitium-blue-button-color":"rgb(169, 182, 255)","--severitium-blue-button-border-color":"rgba(27, 120, 242, .25)","--severitium-blue-button-border-color-hover":"rgba(27, 120, 242, .75)","--severitium-tab-background":"rgba(0, 0, 0, .5)","--severitium-tab-main-border-color":"rgb(150, 150, 150)","--severitium-tab-borders-color":"rgb(80, 80, 80)","--severitium-tab-borders-hover-color":"rgb(200, 200, 200)","--severitium-tab-header-border-color":"rgb(100, 100, 100)","--severitium-tab-other-string-background":"rgba(50, 50, 50, .25)","--severitium-tab-self-string-background":"rgba(255, 255, 255, .25)","--severitium-tab-nickname-color":"rgb(200, 200, 200)","--severitium-tab-nickname-hover-color":"rgb(255, 255, 255)","--severitium-border-radius":".25em"}}init(){this.updateCacheDebounced=this.debounce(()=>{this.themeCache.updateThemeCache(this.currentVariables)},500);const e=this.themeCache.init();e&&(this.currentVariables={...this.currentVariables,...e}),this.waitForSettingsPage(),this.applyVariables()}waitForSettingsPage(){new MutationObserver(e=>{for(const t of e)if("childList"===t.type){document.querySelector(".SettingsComponentStyle-blockContentOptions")&&!this.isInitialized&&(this.initializeSettingsTab(),this.isInitialized=!0)}}).observe(document.body,{childList:!0,subtree:!0})}initializeSettingsTab(){const e=document.querySelector(".SettingsMenuComponentStyle-blockMenuOptions"),t=document.querySelector(".SettingsComponentStyle-containerBlock .SettingsComponentStyle-scrollingMenu");e&&t?(this.menuContainer=e,this.contentContainer=t,this.createMenuItem()):console.warn("Severitium: Settings containers not found")}createMenuItem(){const e=document.createElement("div");e.className="SettingsMenuComponentStyle-menuItemOptions severitium-theme-settings-menu",e.innerHTML="<span>Тема Severitium</span>",e.addEventListener("click",async()=>{try{await this.showThemeSettings()}catch(e){console.error("Severitium: Error showing theme settings:",e),this.contentContainer.innerHTML='<div class="severitium-error">Ошибка загрузки настроек темы</div>'}}),this.menuContainer.appendChild(e)}async showThemeSettings(){this.menuContainer.querySelectorAll(".SettingsMenuComponentStyle-menuItemOptions").forEach(e=>e.classList.remove("activeitem"));this.menuContainer.querySelector(".severitium-theme-settings-menu").classList.add("activeitem"),this.contentContainer.innerHTML='<div class="severitium-loading">Загрузка настроек темы...</div>',await this.initializeVariables(),this.createSettingsContent()}async initializeVariables(){try{this.logEvent("Loading theme variables..."),this.defaultVariables=await this.requestVariablesFromUserscript(),this.defaultVariables||(this.logEvent("Warning: Could not load default variables, using fallback"),this.defaultVariables={}),this.userOverrides=this.cache.getCachedVariables()||{},this.logEvent("Theme variables loaded successfully")}catch(e){console.error("Severitium: Failed to load theme variables:",e),this.defaultVariables={},this.userOverrides={}}}createSettingsContent(){const e=document.createElement("div");e.className="severitium-theme-settings-content",e.innerHTML=`\n            <div class="AccountSettingsComponentStyle-commonBlock">\n                <p class="AccountSettingsComponentStyle-textHeadlineOptions">Настройки темы Severitium</p>\n                \n                <div class="severitium-settings-section">\n                    <h3>Основные цвета</h3>\n                    <div class="severitium-color-grid">\n                        ${this.createColorInput("--severitium-main-color","Основной цвет темы")}\n                    </div>\n                </div>\n\n                <div class="severitium-settings-section">\n                    <h3>Цвета текста</h3>\n                    <div class="severitium-color-grid">\n                        ${this.createColorInput("--severitium-white-text-color","Белый текст")}\n                        ${this.createColorInput("--severitium-dark-white-text-color","Тёмно-белый текст")}\n                        ${this.createColorInput("--severitium-extra-light-gray-text-color","Очень светло-серый текст")}\n                        ${this.createColorInput("--severitium-light-gray-text-color","Светло-серый текст")}\n                        ${this.createColorInput("--severitium-red-text-color","Красный текст")}\n                        ${this.createColorInput("--severitium-gold-text-color","Золотой текст")}\n                        ${this.createColorInput("--severitium-yellow-text-color","Жёлтый текст")}\n                        ${this.createColorInput("--severitium-green-text-color","Зелёный текст")}\n                        ${this.createColorInput("--severitium-blue-text-color","Синий текст")}\n                        ${this.createColorInput("--severitium-orange-text-color","Оранжевый текст")}\n                        ${this.createColorInput("--severitium-purple-text-color","Фиолетовый текст")}\n                        ${this.createColorInput("--severitium-light-blue-text-color","Светло-синий текст")}\n                    </div>\n                </div>\n\n                <div class="severitium-settings-section">\n                    <h3>Специальные цвета</h3>\n                    <div class="severitium-color-grid">\n                        ${this.createColorInput("--severitium-friend-color","Цвет друзей")}\n                        ${this.createColorInput("--severitium-crystal-color","Цвет кристаллов")}\n                        ${this.createColorInput("--severitium-tancoin-color","Цвет танкоинов")}\n                        ${this.createColorInput("--severitium-ruby-color","Цвет рубинов")}\n                    </div>\n                </div>\n\n                <div class="severitium-settings-section">\n                    <h3>Дополнительные цвета</h3>\n                    <div class="severitium-color-grid">\n                        ${this.createColorInput("--severitium-white-color","Белый")}\n                        ${this.createColorInput("--severitium-light-gray-color","Светло-серый")}\n                        ${this.createColorInput("--severitium-gray-color","Серый")}\n                        ${this.createColorInput("--severitium-dark-gray-color","Тёмно-серый")}\n                        ${this.createColorInput("--severitium-black-color","Чёрный")}\n                        ${this.createColorInput("--severitium-green-color","Зелёный")}\n                        ${this.createColorInput("--severitium-red-color","Красный")}\n                        ${this.createColorInput("--severitium-yellow-color","Жёлтый")}\n                        ${this.createColorInput("--severitium-orange-color","Оранжевый")}\n                        ${this.createColorInput("--severitium-light-blue-color","Светло-синий")}\n                        ${this.createColorInput("--severitium-purple-color","Фиолетовый")}\n                        ${this.createColorInput("--severitium-blue-color","Синий")}\n                    </div>\n                </div>\n\n                <div class="severitium-settings-section">\n                    <h3>Кнопки</h3>\n                    <div class="severitium-color-grid">\n                        ${this.createColorInput("--severitium-gray-button-color","Серая кнопка - текст")}\n                        ${this.createColorInput("--severitium-green-button-color","Зелёная кнопка - текст")}\n                        ${this.createColorInput("--severitium-red-button-color","Красная кнопка - текст")}\n                        ${this.createColorInput("--severitium-gold-button-color","Золотая кнопка - текст")}\n                        ${this.createColorInput("--severitium-blue-button-color","Синяя кнопка - текст")}\n                    </div>\n                </div>\n\n                <div class="severitium-settings-section">\n                    <h3>Боевая вкладка</h3>\n                    <div class="severitium-color-grid">\n                        ${this.createColorInput("--severitium-tab-main-border-color","Основная граница")}\n                        ${this.createColorInput("--severitium-tab-borders-color","Границы")}\n                        ${this.createColorInput("--severitium-tab-borders-hover-color","Границы при наведении")}\n                        ${this.createColorInput("--severitium-tab-header-border-color","Граница заголовка")}\n                        ${this.createColorInput("--severitium-tab-nickname-color","Цвет никнейма")}\n                        ${this.createColorInput("--severitium-tab-nickname-hover-color","Никнейм при наведении")}\n                    </div>\n                </div>\n\n                <div class="severitium-settings-section">\n                    <h3>Метрики</h3>\n                    <div class="severitium-metrics-grid">\n                        ${this.createRangeInput("--severitium-border-radius","Радиус границ","0em","1em","0.05em")}\n                    </div>\n                </div>\n\n                <div class="severitium-settings-actions">\n                    <button class="severitium-btn severitium-btn-primary" onclick="window.severitiumThemeSettings.saveSettings()">\n                        Сохранить настройки\n                    </button>\n                    <button class="severitium-btn severitium-btn-secondary" onclick="window.severitiumThemeSettings.resetToDefaults()">\n                        Сбросить к значениям по умолчанию\n                    </button>\n                    <button class="severitium-btn severitium-btn-secondary" onclick="window.severitiumThemeSettings.exportSettings()">\n                        Экспорт настроек\n                    </button>\n                    <input type="file" id="severitium-import-input" accept=".json" style="display: none;" onchange="window.severitiumThemeSettings.importSettings(event)">\n                    <button class="severitium-btn severitium-btn-secondary" onclick="document.getElementById('severitium-import-input').click()">\n                        Импорт настроек\n                    </button>\n                </div>\n            </div>\n        `,this.contentContainer.appendChild(e),this.attachEventListeners()}createColorInput(e,t){const n=this.currentVariables[e]||this.defaultVariables[e];return`\n            <div class="severitium-color-input">\n                <label for="${e}">${t}</label>\n                <div class="severitium-color-input-wrapper">\n                    <input type="color" \n                           id="${e}" \n                           value="${this.rgbToHex(n)}"\n                           data-variable="${e}"\n                           class="severitium-color-picker">\n                    <input type="text" \n                           value="${n}"\n                           data-variable="${e}"\n                           class="severitium-color-text"\n                           placeholder="rgb(255, 255, 255)">\n                </div>\n            </div>\n        `}createRangeInput(e,t,n,i,o){const r=this.currentVariables[e]||this.defaultVariables[e],a=parseFloat(r);return`\n            <div class="severitium-range-input">\n                <label for="${e}">${t}</label>\n                <div class="severitium-range-input-wrapper">\n                    <input type="range" \n                           id="${e}" \n                           min="${parseFloat(n)}"\n                           max="${parseFloat(i)}"\n                           step="${parseFloat(o)}"\n                           value="${a}"\n                           data-variable="${e}"\n                           class="severitium-range-slider">\n                    <input type="text" \n                           value="${r}"\n                           data-variable="${e}"\n                           class="severitium-range-text">\n                </div>\n            </div>\n        `}attachEventListeners(){this.contentContainer.querySelectorAll(".severitium-color-picker").forEach(e=>{e.addEventListener("input",e=>this.onColorChange(e))});this.contentContainer.querySelectorAll(".severitium-color-text").forEach(e=>{e.addEventListener("input",e=>this.onColorTextChange(e)),e.addEventListener("blur",e=>this.validateColorText(e))});this.contentContainer.querySelectorAll(".severitium-range-slider").forEach(e=>{e.addEventListener("input",e=>this.onRangeChange(e))});this.contentContainer.querySelectorAll(".severitium-range-text").forEach(e=>{e.addEventListener("input",e=>this.onRangeTextChange(e))})}onColorChange(e){const t=e.target.dataset.variable,n=e.target.value,i=this.hexToRgb(n),o=this.contentContainer.querySelector(`.severitium-color-text[data-variable="${t}"]`);o&&(o.value=i),this.currentVariables[t]=i,this.applyVariable(t,i)}onColorTextChange(e){const t=e.target.dataset.variable,n=e.target.value;this.currentVariables[t]=n,this.applyVariable(t,n);const i=this.contentContainer.querySelector(`.severitium-color-picker[data-variable="${t}"]`);if(i)try{const e=this.rgbToHex(n);i.value=e}catch(e){}}onRangeChange(e){const t=e.target.dataset.variable,n=e.target.value+"em",i=this.contentContainer.querySelector(`.severitium-range-text[data-variable="${t}"]`);i&&(i.value=n),this.currentVariables[t]=n,this.applyVariable(t,n)}onRangeTextChange(e){const t=e.target.dataset.variable,n=e.target.value;this.currentVariables[t]=n,this.applyVariable(t,n);const i=this.contentContainer.querySelector(`.severitium-range-slider[data-variable="${t}"]`);if(i){const e=parseFloat(n);isNaN(e)||(i.value=e)}}validateColorText(e){const t=e.target,n=t.value;/^rgb\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*\)$/.test(n)||/^rgba\(\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*\d{1,3}\s*,\s*[01]?\.?\d*\s*\)$/.test(n)||n.startsWith("#")?t.style.borderColor="":t.style.borderColor="var(--severitium-red-color)"}applyVariable(e,t){document.documentElement.style.setProperty(e,t),this.updateCacheDebounced()}applyVariables(){this.themeCache.applyThemeVariables(this.currentVariables),this.updateCacheDebounced()}saveSettings(){"undefined"!=typeof localStorage&&localStorage.setItem(this.storageKey,JSON.stringify(this.currentVariables)),this.requestUserscriptSave(),this.themeCache&&"function"==typeof this.themeCache.updateThemeCache&&this.themeCache.updateThemeCache(this.currentVariables),window.Swal?Swal.fire({title:"Настройки сохранены!",text:"Ваши настройки темы были успешно сохранены и применены.",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):alert("Настройки сохранены!")}requestUserscriptSave(){const e=new CustomEvent("severitium:saveThemeSettings",{detail:{settings:this.currentVariables,timestamp:Date.now()}});document.dispatchEvent(e)}loadSettings(){const e=this.requestSettingsFromUserscript();if(e)return{...this.defaultVariables,...e};if("undefined"!=typeof localStorage){const e=localStorage.getItem(this.storageKey);if(e)try{return{...this.defaultVariables,...JSON.parse(e)}}catch(e){console.warn("Severitium: Failed to parse saved settings from localStorage, using defaults")}}return{...this.defaultVariables}}requestSettingsFromUserscript(){let e=null;const t=new CustomEvent("severitium:requestThemeSettings",{detail:{timestamp:Date.now()}}),n=t=>{t.detail&&t.detail.settings&&(e=t.detail.settings)};document.addEventListener("severitium:themeSettingsResponse",n,{once:!0}),document.dispatchEvent(t);const i=Date.now();for(;Date.now()-i<100&&!e;);return document.removeEventListener("severitium:themeSettingsResponse",n),e}resetToDefaults(){this.currentVariables={...this.defaultVariables},this.applyVariables(),this.contentContainer.querySelector(".severitium-theme-settings-content")&&(this.contentContainer.innerHTML="",this.createSettingsContent()),window.Swal?Swal.fire({title:"Настройки сброшены!",text:"Все настройки темы были сброшены к значениям по умолчанию.",icon:"info",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):alert("Настройки сброшены к значениям по умолчанию!")}exportSettings(){const e={version:"1.0",timestamp:(new Date).toISOString(),settings:this.currentVariables},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=`severitium-theme-settings-${(new Date).toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(n)}importSettings(e){const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=e=>{try{const t=JSON.parse(e.target.result);if(!t.settings)throw new Error("Invalid file format");this.currentVariables={...this.defaultVariables,...t.settings},this.applyVariables(),this.contentContainer.querySelector(".severitium-theme-settings-content")&&(this.contentContainer.innerHTML="",this.createSettingsContent()),window.Swal?Swal.fire({title:"Настройки импортированы!",text:"Настройки темы были успешно загружены из файла.",icon:"success",timer:2e3,timerProgressBar:!0,showConfirmButton:!1}):alert("Настройки импортированы!")}catch(e){window.Swal?Swal.fire({title:"Ошибка импорта!",text:"Не удалось прочитать файл настроек. Проверьте формат файла.",icon:"error"}):alert("Ошибка импорта! Проверьте формат файла.")}},n.readAsText(t),e.target.value=""}updateCache(){console.warn("updateCache is deprecated, using themeCache system instead"),this.themeCache.updateThemeCache(this.currentVariables)}generateCSSContent(){return console.warn("generateCSSContent is deprecated, using themeCache system instead"),this.themeCache.generateThemeCSS(this.currentVariables)}rgbToHex(e){if(e.startsWith("#"))return e;const t=e.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(!t)return"#000000";return"#"+[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])].map(e=>{const t=e.toString(16);return 1===t.length?"0"+t:t}).join("")}hexToRgb(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return"rgb(0, 0, 0)";return`rgb(${parseInt(t[1],16)}, ${parseInt(t[2],16)}, ${parseInt(t[3],16)})`}debounce(e,t){let n;return function(...i){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...i)},t)}}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{window.severitiumThemeSettings=new ThemeSettings}):window.severitiumThemeSettings=new ThemeSettings,function(){const e="div > div",t=".NewShopCommonComponentStyle-commonBlockMenuShop";function n(e){const t=window.getComputedStyle(e).backgroundColor.includes("rgba(255, 204, 0, 0.25)");e.setAttribute("data-state",t?"active":"inactive")}function i(n){const i=n.target.closest(`${t} > ${e}`);i&&document.querySelectorAll(`${t} > ${e}`).forEach(e=>{e.setAttribute("data-state",e===i?"active":"inactive")})}function o(o){o.forEach(({addedNodes:o,removedNodes:r})=>{o.forEach(o=>{if(o.nodeType!==Node.ELEMENT_NODE)return;const r=o.matches(t)?o:o.querySelector(t);r&&function(o){document.querySelectorAll(`${t} > ${e}`).forEach(n),o.addEventListener("click",i)}(r)}),r.forEach(e=>{if(e.nodeType!==Node.ELEMENT_NODE)return;const n=e.matches(t)?e:e.querySelector(t);n&&n.removeEventListener("click",i)})})}new MutationObserver(e=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(()=>o(e)):o(e)}).observe(document.body,{childList:!0,subtree:!0})}();